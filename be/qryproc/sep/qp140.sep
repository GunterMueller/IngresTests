/*
Copyright (c) 2007 Ingres Corporation.

	Test Name    : qp140.sep     
	User Name    : testenv      
	Test ID      : qp140
	Module       : 
	Filename     : qp140.sep
	Purpose      : Test the date datatypes 
	Input Files  : none
	Output Files : none
	Database     : SEPPARAMDB
	Tables       : debts, dateint, timeint, time
	Synopsis     : Tests the date datatypes and includes all 10
                       date related queries that were run in oldstyle
	History	     : 17-july-1989 converted by :dennisk

          12-Aug-1993	(garys)   updated canon to accept correct help table
				  output for number of rows, pages and overflow
				  data pages.
          23-Nov-1993	(camacho) accepted new canons for the new default of
				  with journaling.  
          20-Mar-1995	(gauje01) changed canons to contain current Ingres
				  version, "OPING1.1", replacing old "ING6.0"
          18-Dec-1995	(raora02) Accepted alternate canon to show Ingres
				  version OpING 1.2.
           9-Oct-1996	(Author)
	  26-Mar-1999	(kamra01) modified VPG_SZ to 4096	
           2-Nov-2006	(vande02) Updated canon from help table with ingresdate
				  in the result and removed ancient alternate
				  canons.  Added Copyright, aligned history.
          13-Dec-2007   (vande02) Changing 'help table' commands to a query of
                                  iitables checking the storage_structure and
                                  num_rows. See issue 122073.  This will avoid
				  insignificant table structure differences as
				  seen in II 9.3.0.
*/
? fill hha.dat 
!!
rent	710	12/15/82
mc	295.75	12/30/82
visa	344.98	1/15/83
amexp	195	1/1/83
rent	710.00	1/15/83
macys	89.95	12/10/82
rent	710	2/15/83
studentloan	2500	6/15/84
gulf	48.90	12/31/82
noinfo		
!!
? fill hhb.dat 
!!
project a 	5 years
design	8 months
unknown	
testing	14 days
integration	5 yrs 8 mos 18 days
project xxx	5 years 7months
project zzz	5 years 14 days
documentation	8 months 14 days
!!
? fill hhc.dat 
!!
c1	23 hours
c2	38minutes
c3	53 seconds
c4	23 hrs 38 mins 53 secs
c5	23 hrs 53 seconds
c6	28 hrs 38 mins
c7	38mins 48secs
c8	23:38:53 hrs
!!
? quel SEPPARAMDB -s 
<<
>>
* destroy time, debts, dateint, timeint \g
<<
~
>>
* create debts (acct= c15, balance = money, due = date) with page_size=4096 \g
<<
>>
* copy debts (acct = c0tab, balance = c0tab, due= c0nl) from "hha.dat" \g
<<
(10 rows)
>>
* retrieve (d=date(""),day=dow(date(""))) \g
<<

+-------------------------+------+
|d                        |day   |
+-------------------------+------+
|                         |      |
+-------------------------+------+
(1 row)
>>
* retrieve (d=date("12/11/82")) \g
/*
    Legal input formats for the date December 11, 1982 follow.
    Note - regardless of the input format, the output format for a 
    date does not change.
*/
<<

+-------------------------+
|d                        |
+-------------------------+
|11-dec-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("11-dec-82")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|11-dec-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12-11-82")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|11-dec-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("82.12.11")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|11-dec-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12/11")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|11-dec-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12-11")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|11-dec-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 14:30:00")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 14:30:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 2:30:00pm")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 14:30:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 14:30")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 14:30:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 2:30pm")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 14:30:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 2:30:00pm pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 14:30:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 14:30:00pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 14:30:00     |
+-------------------------+
(1 row)
>>
* create dateint (project = c15, duration = date) with page_size=4096 \g
<<
>>
* copy dateint (project = c0tab, duration = c0nl) from "hhb.dat"  \g
<<
(8 rows)
>>
* create timeint (taskid = c5, length = date) with page_size=4096 \g
<<
>>
* copy timeint (taskid = c0tab, length = c0nl) from "hhc.dat" \g
<<
(8 rows)
>>
* retrieve (d = date("4 yrs 5mos") + ("3days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|4 yrs 5 mos 3 days       |
+-------------------------+
(1 row)
>>
* retrieve (d = date("2-15-83") + "3months") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|15-may-1983              |
+-------------------------+
(1 row)
>>
* retrieve (d = date("18mos") + "25days") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|1 yrs 6 mos 25 days      |
+-------------------------+
(1 row)
>>
* retrieve (d = date("5-13-83")-("2months")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13-mar-1983              |
+-------------------------+
(1 row)
>>
* retrieve (d = date("2-10-83") - "12-15-82") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|57 days                  |
+-------------------------+
(1 row)
>>
* retrieve (d = date("2years 4 months") - "7 months") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|1 yrs 9 mos              |
+-------------------------+
(1 row)
>>
* range of d is dateint \g
/*
    Aggregate functions on dates -- max, min, any, count 
*/
<<
>>
* range of t is timeint \g
<<
>>
* retrieve (t.taskid, t.length) where t.length = min(t.length) \g
/*
    Find name and length of shortest and longest projects 
*/
<<

+------+-------------------------+
|taskid|length                   |
+------+-------------------------+
|c3    |53 secs                  |
+------+-------------------------+
(1 row)
>>
* retrieve (t.taskid, t.length) where t.length = max(t.length) \g
<<

+------+-------------------------+
|taskid|length                   |
+------+-------------------------+
|c6    |1 days 4 hrs 38 mins     |
+------+-------------------------+
(1 row)
>>
* retrieve (d.project, d.duration) where d.duration = min(d.duration) \g
<<

+---------------+-------------------------+
|project        |duration                 |
+---------------+-------------------------+
|testing        |14 days                  |
+---------------+-------------------------+
(1 row)
>>
* retrieve (d.project, d.duration) where d.duration = max(d.duration) \g
<<

+---------------+-------------------------+
|project        |duration                 |
+---------------+-------------------------+
|integration    |5 yrs 8 mos 18 days      |
+---------------+-------------------------+
(1 row)
>>
* retrieve (debts.acct, debts.balance, debts.due) 
<<
>>
*	where debts.due = min(debts.due) \g
/*
    Find next and last bill due 
*/
<<

+---------------+--------------------+-------------------------+
|acct           |balance             |due                      |
+---------------+--------------------+-------------------------+
|macys          |              $89.95|10-dec-1982              |
+---------------+--------------------+-------------------------+
(1 row)
>>
* retrieve (debts.acct, debts.balance, debts.due) 
<<
>>
*	where debts.due = max(debts.due) \g
<<

+---------------+--------------------+-------------------------+
|acct           |balance             |due                      |
+---------------+--------------------+-------------------------+
|studentloan    |            $2500.00|15-jun-1984              |
+---------------+--------------------+-------------------------+
(1 row)
>>
* retrieve (d=date("14-APR-1982")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|14-apr-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("14-Apr-82")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|14-apr-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date ("4YEARS 13MONTHS 35Days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs 1 mos 35 days      |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12 Hours 65MINUTES 15Seconds")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13 hrs 5 mins 15 secs    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today") + "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d="" + date("now")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("1/1/83") - "25hours") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|30-dec-1982 23:00:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("1/5/83") - "24hours 1min") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|03-jan-1983 23:59:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("1/4/83") - "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("6 days") + "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("3months 4days") - "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56:35")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56:35")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35gmt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 01:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35pdt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 08:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35mst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 08:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35mdt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 07:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35cst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 07:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35cdt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 06:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35est")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 06:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-1982 9:56:35edt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 05:56:35     |
+-------------------------+
(1 row)
>>
* create time (t = date) with page_size=4096 \g
<<

>>
* append to time (t = "0 min") \g
<<
(1 row)
>>
* replace time (t = "6 min 34 sec") \g
<<
(1 row)
>>
* print time \g
<<

time table

+-------------------------+
|t                        |
+-------------------------+
|6 mins 34 secs           |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date ("TODAY")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("Today")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("now")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 09:09:27     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("Now")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 09:09:50     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("14-APR-1982")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|14-apr-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("14-Apr-82")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|14-apr-1982              |
+-------------------------+
(1 row)
>>
* retrieve (d=date ("4YEARS 13MONTHS 35Days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs 1 mos 35 days      |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12 Hours 65MINUTES 15Seconds")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13 hrs 5 mins 15 secs    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("500days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|500 days                 |
+-------------------------+
(1 row)
>>
* retrieve (d=date("575 days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|575 days                 |
+-------------------------+
(1 row)
>>
* retrieve (d=date("4years 575 days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|4 yrs 575 days           |
+-------------------------+
(1 row)
>>
* retrieve (d=date("576 days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|576 days                 |
+-------------------------+
(1 row)
>>
* retrieve (d=date("45years 595 days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|45 yrs 595 days          |
+-------------------------+
(1 row)
>>
* retrieve (d=date("54years 596 days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|54 yrs 596 days          |
+-------------------------+
(1 row)
>>
* retrieve (d=date("43years 597 days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|43 yrs 597 days          |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today") + "5hours") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 05:00:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today") + "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d="" + date("now")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("") + "6hours") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today") + "24hours 5min") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|19-jul-1989 00:05:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("24hours 5min") + "Now") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|19-jul-1989 09:34:13     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today" )- "5min") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|17-jul-1989 23:55:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("today") - "24hours") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|17-jul-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("1/1/83") - "25hours") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|30-dec-1982 23:00:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("1/5/83") - "24hours 1min") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|03-jan-1983 23:59:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("1/4/83")- "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("6days")+ "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("3months 4days") - "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/83")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1983              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-83")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1983              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10-31-83")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1983              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("83.10.31")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1983              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1989              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("596years")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|596 yrs                  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("597years")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|597 yrs                  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("600years")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|600 yrs                  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("750years")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|750 yrs                  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("800years")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|800 yrs                  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("800years11months360days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|800 yrs 11 mos 360 days  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("797 yrs 14mos ")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|798 yrs 2 mos            |
+-------------------------+
(1 row)
>>
* retrieve (d=date("5years")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs                    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("5 yrs")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs                    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("2 months")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|2 mos                    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("2mos")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|2 mos                    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("8days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|8 days                   |
+-------------------------+
(1 row)
>>
* retrieve (d=date("5 years 2months 8days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs 2 mos 8 days       |
+-------------------------+
(1 row)
>>
* retrieve (d=date("5 years 2 months")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs 2 mos              |
+-------------------------+
(1 row)
>>
* retrieve (d=date("5 years 8days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|5 yrs 8 days             |
+-------------------------+
(1 row)
>>
* retrieve (d=date("2months 8days")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|2 mos 8 days             |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12hours")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|12 hrs                   |
+-------------------------+
(1 row)
>>
* retrieve (d=date("75 minutes")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|1 hrs 15 mins            |
+-------------------------+
(1 row)
>>
* retrieve (d=date("48 secs")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|48 secs                  |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12 hours 75 minutes 48 secs")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13 hrs 15 mins 48 secs   |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12 hrs 48 seconds")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|12 hrs 48 secs           |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12 hours 75mins")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13 hrs 15 mins           |
+-------------------------+
(1 row)
>>
* retrieve (d=date("75 minutes 48 sec")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|1 hrs 15 mins 48 secs    |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12 :75hours")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13 hrs 15 mins           |
+-------------------------+
(1 row)
>>
* retrieve (d=date("12:75:48hours")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|13 hrs 15 mins 48 secs   |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56:35")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56:35")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("10/31/82 9:56pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("31-oct-82 9:56pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|31-oct-1982 09:56:00     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35gmt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 01:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35pst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 09:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35pdt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 08:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35mst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 08:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35mdt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 07:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35cst")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 07:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35cdt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 06:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35est")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 06:56:35     |
+-------------------------+
(1 row)
>>
* retrieve (d=date("9:56:35edt")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|18-jul-1989 05:56:35     |
+-------------------------+
(1 row)
>>
* range of r is iitables\g
<<
>>
* retrieve (r.table_name, r.storage_structure, r.num_rows, r.is_compressed) where r.-
table_name="dateint"\g
<<

+--------------------------------+----------------+-------------+------+
|table_name                      |storage_structur|num_rows     |is_com|
+--------------------------------+----------------+-------------+------+
|dateint                         |HEAP            |            8|N     |
+--------------------------------+----------------+-------------+------+
(1 row)
>>
* print dateint \g
<<

dateint table

+---------------+-------------------------+
|project        |duration                 |
+---------------+-------------------------+
|project a      |5 yrs                    |
|design         |8 mos                    |
|unknown        |                         |
|testing        |14 days                  |
|integration    |5 yrs 8 mos 18 days      |
|project xxx    |5 yrs 7 mos              |
|project zzz    |5 yrs 14 days            |
|documentation  |8 mos 14 days            |
+---------------+-------------------------+
(8 rows)
>>
* append to dateint (project="neg2", duration="-1month") \g
<<
(1 row)
>>
* print dateint \g
<<

dateint table

+---------------+-------------------------+
|project        |duration                 |
+---------------+-------------------------+
|project a      |5 yrs                    |
|design         |8 mos                    |
|unknown        |                         |
|testing        |14 days                  |
|integration    |5 yrs 8 mos 18 days      |
|project xxx    |5 yrs 7 mos              |
|project zzz    |5 yrs 14 days            |
|documentation  |8 mos 14 days            |
|neg2           |-1 mos                   |
+---------------+-------------------------+
(9 rows)
>>
* retrieve (dateint.all) sort by duration \g
<<

+---------------+-------------------------+
|project        |duration                 |
+---------------+-------------------------+
|unknown        |                         |
|neg2           |-1 mos                   |
|testing        |14 days                  |
|design         |8 mos                    |
|documentation  |8 mos 14 days            |
|project a      |5 yrs                    |
|project zzz    |5 yrs 14 days            |
|project xxx    |5 yrs 7 mos              |
|integration    |5 yrs 8 mos 18 days      |
+---------------+-------------------------+
(9 rows)
>>
* replace dateint (duration=dateint.duration + "1day") \g
<<
(9 rows)
>>
* retrieve (dateint.all) sort by duration  \g
<<

+---------------+-------------------------+
|project        |duration                 |
+---------------+-------------------------+
|unknown        |                         |
|neg2           |-1 mos 1 days            |
|testing        |15 days                  |
|design         |8 mos 1 days             |
|documentation  |8 mos 15 days            |
|project a      |5 yrs 1 days             |
|project zzz    |5 yrs 15 days            |
|project xxx    |5 yrs 7 mos 1 days       |
|integration    |5 yrs 8 mos 19 days      |
+---------------+-------------------------+
(9 rows)
>>
* retrieve (d=date("")) \g
/*
    Date arithmetic with null dates
*/
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("") + "1day") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d=date("NOW") + "") \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* retrieve (d="NOW"+ date("")) \g
<<

+-------------------------+
|d                        |
+-------------------------+
|                         |
+-------------------------+
(1 row)
>>
* destroy time, debts, dateint, timeint \g
<<
~
>>
* \q
<<
>>


Ending at: Thu Dec 13 19:38:22 2007
