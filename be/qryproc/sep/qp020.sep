/*
	Test Name: eba19.sep
	Time: Mon Oct 11 22:45:06 1993
	User Name: testenv
	Terminal type: septerm
 
	Test ID : eba19.sep
	Module  : 
	Filename:
	Purpose	: test to confirm fix for bug 53658
	Input Files  :
	Output Files :
	Database     :
	Tables       :
	Synopsis     :

 History: 11-Oct-1993	(jpark)	Created
          19-Oct-1993	(jpark) Accepted new canon for bug fix
          28-Aug-1996	(Author)
          08-Feb-1999	(kamra01)
                        (added alternate canon to eliminate diffs in sequence order)
	  25-March-1999  (kamra01) modified VPG_SZ to 2048
*/
? fill rgr.val 
!!
            1	    7Company	    1N	    1Y	     2

            2	   14Alt Comp Names	    1N	    1N	     1

            3	   15Company Address	    1N	    1N	     1

            4	    7Contact	    1N	    1Y	     3

            5	    6Client	    1N	    1Y	     2

            6	   11Instruction	    1N	    1Y	     2

            7	   12Fee Forecast	    1N	    1N	     3

            8	    9Portfolio	    1N	    1Y	     2

            9	    5Group	    1N	    1Y	     1

           10	   10User Group	    1N	    1N	     1

           11	    4User	    1N	    1Y	     1

           12	    8Property	    1N	    1N	     7

           13	   13Portfolio Ref	    1N	    1N	     1

           14	   11Alt Address	    1N	    1N	     1

           15	   14Office Details	    1N	    1N	     1

           16	   12Shop Details	    1N	    1N	     1

           17	   15Industrial Dtls	    1N	    1N	     1

           18	    9Amenities	    1N	    1N	     1

           19	   15Client Interest	    1N	    1N	     3

           20	   13Client Tenure	    1N	    1N	     3

           21	   13Rent Schedule	    1N	    1N	     1

           22	   13Review Detail	    1N	    1N	     1

           23	   13Permitted Use	    1N	    1N	     1

           24	    9Base Data	    1N	    1N	     1

           25	   11Val Results	    1N	    1N	     2

           27	   14Yield Spectrum	    1N	    1N	     1

           28	   15Category Yields	    1N	    1N	     1

           29	   11Capital R E	    1N	    1N	     1

           30	   10Client NRO	    1N	    1N	     1

           31	    9Cash Flow	    1N	    1N	     1

           32	   11Val Opinion	    1N	    1N	     2

           33	   12Interest NRO	    1N	    1N	     1

           34	   12Part Details	    1N	    1N	     2

           35	    8Overrent	    1N	    1N	     1

           36	   15Tenant Interest	    1N	    1N	     4

           37	   12Unit Details	    1N	    1N	     4

           38	   12Unit Address	    1N	    1N	     1

           39	   12Superior Int	    1N	    1N	     4

           40	   13Tenure Detail	    1N	    1N	     3

           41	   11Rent Detail	    1N	    1N	     1

           42	   13Lease Reviews	    1N	    1N	     1

           43	   11Allowed Use	    1N	    1N	     1

           74	   13PSQ Inst Note	    1Y	    1N	     1

           75	   12PSQ Val Note	    1Y	    1N	     1

           76	   14PSQ Client Req	    1Y	    1N	     1

           77	   12PSQ Fee Note	    1Y	    1N	     1

           78	   12PSQ Gen Desc	    1Y	    1N	     1

           79	   12PSQ Location	    1Y	    1N	     1

           80	   11PSQ Arr Lay	    1Y	    1N	     1

           81	   13PSQ Construct	    1Y	    1N	     1

           82	   12PSQ Acc Load	    1Y	    1N	     1

           83	   14PSQ Other Comm	    1Y	    1N	     1

           84	   12PSQ Planning	    1Y	    1N	     1

           85	   13PSQ Exp Space	    1Y	    1N	     1

           86	   11PSQ Gen Int	    1Y	    1N	     1

           87	   14PSQ Guarantors	    1Y	    1N	     1

           88	   14PSQ Alienation	    1Y	    1N	     1

           89	   15PSQ User Clause	    1Y	    1N	     1

           90	   10PSQ Repair	    1Y	    1N	     1

           91	   13PSQ Rev Basis	    1Y	    1N	     1

           92	   14PSQ Serv Notes	    1Y	    1N	     1

           93	   12PSQ Gen Desc	    1Y	    1N	     1

           94	   14PSQ Serv Notes	    1Y	    1N	     1

           95	   13PSQ Rev Basis	    1Y	    1N	     1

           96	   10PSQ Repair	    1Y	    1N	     1

           97	   15PSQ User Clause	    1Y	    1N	     1

           98	   14PSQ Alienation	    1Y	    1N	     1

           99	   14PSQ Guarantors	    1Y	    1N	     1

          100	   11PSQ Gen Int	    1Y	    1N	     1

          126	   12Current Valn	    1N	    1Y	     4

          127	   14Confirmed Vals	    1N	    1Y	     3

          128	   14Unconfirm Atts	    1N	    1Y	     4

          115	   14PSQ Serv Notes	    1Y	    1N	     1

          124	   13Ten Rev Dates	    1N	    1N	     1

          125	   13Cli Rev Dates	    1N	    1N	     1

          129	   11T Amenities	    1N	    1N	     1

          130	   12T Industrial	    1N	    1N	     1

          131	   11T Shop Dtls	    1N	    1N	     1

          132	   13T Office Dtls	    1N	    1N	     1

          133	   15Valuation Dates	    1N	    1N	     1

!!
? fill rrr.val 
!!
            1	            1	            1	            2	    1Y	    1N

            2	            1	            2	            1	    1N	    1Y

            3	            2	            1	            3	    1Y	    1N

            4	            2	            3	            1	    1N	    1Y

            5	            3	            3	            4	    1Y	    1N

            6	            3	            4	            3	    1N	    1Y

            7	            4	            4	            5	    1Y	    1N

            8	            4	            5	            4	    1N	    1Y

            9	            5	            5	            6	    1Y	    1N

           10	            5	            6	            5	    1N	    1Y

           11	            6	            6	            7	    1Y	    1N

           12	            6	            7	            6	    1N	    1Y

           13	            7	            6	            8	    1N	    1Y

           14	            7	            8	            6	    1Y	    1N

           21	           11	           12	           13	    1Y	    1N

           22	           11	           13	           12	    1N	    1Y

           23	           12	           12	           18	    1Y	    1N

           24	           12	           18	           12	    1N	    1Y

           25	           13	           12	           17	    1N	    1N

           26	           13	           17	           12	    1N	    1Y

           27	           14	           12	           16	    1N	    1N

           28	           14	           16	           12	    1N	    1Y

           29	           15	           12	           15	    1N	    1N

           30	           15	           15	           12	    1N	    1Y

           31	           16	           12	           14	    1Y	    1N

           32	           16	           14	           12	    1N	    1Y

           33	           17	           12	           19	    1N	    1N

           34	           17	           19	           12	    1N	    1Y

           35	           18	           19	           20	    1N	    1N

           36	           18	           20	           19	    1N	    1Y

           37	           19	           20	           21	    1Y	    1N

           38	           19	           21	           20	    1N	    1Y

           39	           20	           20	           22	    1Y	    1N

           40	           20	           22	           20	    1N	    1Y

           41	           21	           20	           23	    1Y	    1N

           42	           21	           23	           20	    1N	    1Y

           43	           22	           19	           24	    1N	    1N

           44	           22	           24	           19	    1N	    1Y

           45	           23	           19	           25	    1Y	    1N

           46	           23	           25	           19	    1N	    1Y

           47	           24	           25	           27	    1Y	    1N

           48	           24	           27	           25	    1N	    1Y

           49	           25	           25	           28	    1Y	    1N

           50	           25	           28	           25	    1N	    1Y

           51	           26	           25	           29	    1Y	    1N

           52	           26	           29	           25	    1N	    1Y

           53	           27	           25	           30	    1Y	    1N

           54	           27	           30	           25	    1N	    1Y

           55	           28	           12	           36	    1Y	    1N

           56	           28	           36	           12	    1N	    1Y

           57	           29	           12	           39	    1Y	    1N

           58	           29	           39	           12	    1N	    1Y

           59	           30	            1	           36	    1Y	    1N

           60	           30	           36	            1	    1N	    1Y

           61	           31	            1	           39	    1Y	    1N

           62	           31	           39	            1	    1N	    1Y

           63	           32	           39	           40	    1N	    1N

           64	           32	           40	           39	    1N	    1Y

           65	           33	           36	           40	    1N	    1N

           66	           33	           40	           36	    1N	    1Y

           67	           34	           40	           41	    1Y	    1N

           68	           34	           41	           40	    1N	    1Y

           69	           35	           40	           42	    1Y	    1N

           70	           35	           42	           40	    1N	    1Y

           71	           36	           40	           43	    1Y	    1N

           72	           36	           43	           40	    1N	    1Y

           73	           37	           36	           32	    1Y	    1N

           74	           37	           32	           36	    1N	    1Y

           75	           38	           36	           37	    1N	    1N

           76	           38	           37	           36	    1N	    1Y

           77	           39	           37	           38	    1Y	    1N

           78	           39	           38	           37	    1N	    1Y

           79	           40	           32	           33	    1Y	    1N

           80	           40	           33	           32	    1N	    1Y

           81	           41	           32	           34	    1Y	    1N

           82	           41	           34	           32	    1N	    1Y

           83	           42	           32	           35	    1Y	    1N

           84	           42	           35	           32	    1N	    1Y

           85	           43	           32	           31	    1Y	    1N

           86	           43	           31	           32	    1N	    1Y

           87	           44	           25	           31	    1Y	    1N

           88	           44	           31	           25	    1N	    1Y

           89	           45	           25	           32	    1Y	    1N

           90	           45	           32	           25	    1N	    1Y

           91	           46	           11	           10	    1Y	    1N

           92	           46	           10	           11	    1N	    1Y

           93	           47	           10	            9	    1N	    1Y

           94	           47	            9	           10	    1Y	    1N

          311	          156	           36	           36	    1Y	    1N

          323	          163	            5	            8	    1Y	    1N

           97	           49	            9	            8	    1Y	    1N

           98	           49	            8	            9	    1N	    1Y

           99	           50	            9	            6	    1Y	    1N

          100	           50	            6	            9	    1N	    1Y

          101	           51	            9	            5	    1Y	    1N

          102	           51	            5	            9	    1N	    1Y

          103	           52	            9	            1	    1Y	    1N

          104	           52	            1	            9	    1N	    1Y

          173	           87	            6	           74	    1Y	    1N

          174	           87	           74	            6	    1N	    1Y

          175	           88	           25	           75	    1Y	    1N

          176	           88	           75	           25	    1N	    1Y

          177	           89	            5	           76	    1Y	    1N

          178	           89	           76	            5	    1N	    1Y

          179	           90	            7	           77	    1Y	    1N

          180	           90	           77	            7	    1N	    1Y

          181	           91	           12	           78	    1Y	    1N

          182	           91	           78	           12	    1N	    1Y

          183	           92	           12	           79	    1Y	    1N

          184	           92	           79	           12	    1N	    1Y

          185	           93	           12	           80	    1Y	    1N

          186	           93	           80	           12	    1N	    1Y

          187	           94	           12	           81	    1Y	    1N

          188	           94	           81	           12	    1N	    1Y

          189	           95	           12	           82	    1Y	    1N

          190	           95	           82	           12	    1N	    1Y

          191	           96	           12	           83	    1Y	    1N

          192	           96	           83	           12	    1N	    1Y

          193	           97	           12	           84	    1Y	    1N

          194	           97	           84	           12	    1N	    1Y

          195	           98	           17	           85	    1Y	    1N

          196	           98	           85	           17	    1N	    1Y

          197	           99	           20	           86	    1Y	    1N

          198	           99	           86	           20	    1N	    1Y

          199	          100	           20	           87	    1Y	    1N

          200	          100	           87	           20	    1N	    1Y

          201	          101	           20	           88	    1Y	    1N

          202	          101	           88	           20	    1N	    1Y

          203	          102	           20	           89	    1Y	    1N

          204	          102	           89	           20	    1N	    1Y

          205	          103	           20	           90	    1Y	    1N

          206	          103	           90	           20	    1N	    1Y

          207	          104	           20	           91	    1Y	    1N

          208	          104	           91	           20	    1N	    1Y

          209	          105	           20	           92	    1Y	    1N

          210	          105	           92	           20	    1N	    1Y

          211	          106	           37	           93	    1Y	    1N

          212	          106	           93	           37	    1N	    1Y

          213	          107	           40	           94	    1Y	    1N

          214	          107	           94	           40	    1N	    1Y

          215	          108	           40	           95	    1Y	    1N

          216	          108	           95	           40	    1N	    1Y

          217	          109	           40	           96	    1Y	    1N

          218	          109	           96	           40	    1N	    1Y

          219	          110	           40	           97	    1Y	    1N

          220	          110	           97	           40	    1N	    1Y

          221	          111	           40	           98	    1Y	    1N

          222	          111	           98	           40	    1N	    1Y

          223	          112	           40	           99	    1Y	    1N

          224	          112	           99	           40	    1N	    1Y

          225	          113	           40	          100	    1Y	    1N

          226	          113	          100	           40	    1N	    1Y

          227	          114	           44	          101	    1Y	    1N

          228	          114	          101	           44	    1N	    1Y

          229	          115	           44	          102	    1Y	    1N

          230	          115	          102	           44	    1N	    1Y

          231	          116	           44	          103	    1Y	    1N

          232	          116	          103	           44	    1N	    1Y

          233	          117	           44	          104	    1Y	    1N

          234	          117	          104	           44	    1N	    1Y

          235	          118	           44	          105	    1Y	    1N

          236	          118	          105	           44	    1N	    1Y

          237	          119	           44	          106	    1Y	    1N

          238	          119	          106	           44	    1N	    1Y

          239	          120	           44	          107	    1Y	    1N

          240	          120	          107	           44	    1N	    1Y

          241	          121	           48	          108	    1Y	    1N

          242	          121	          108	           48	    1N	    1Y

          243	          122	           51	          109	    1Y	    1N

          244	          122	          109	           51	    1N	    1Y

          245	          123	           51	          110	    1Y	    1N

          246	          123	          110	           51	    1N	    1Y

          247	          124	           51	          111	    1Y	    1N

          248	          124	          111	           51	    1N	    1Y

          249	          125	           51	          112	    1Y	    1N

          250	          125	          112	           51	    1N	    1Y

          251	          126	           51	          113	    1Y	    1N

          252	          126	          113	           51	    1N	    1Y

          253	          127	           51	          114	    1Y	    1N

          254	          127	          114	           51	    1N	    1Y

          255	          128	           51	          115	    1Y	    1N

          256	          128	          115	           51	    1N	    1Y

          257	          129	           67	          116	    1Y	    1N

          258	          129	          116	           67	    1N	    1Y

          259	          130	           70	          117	    1Y	    1N

          260	          130	          117	           70	    1N	    1Y

          261	          131	           70	          118	    1Y	    1N

          262	          131	          118	           70	    1N	    1Y

          263	          132	           70	          119	    1Y	    1N

          264	          132	          119	           70	    1N	    1Y

          265	          133	           70	          120	    1Y	    1N

          266	          133	          120	           70	    1N	    1Y

          267	          134	           70	          121	    1Y	    1N

          268	          134	          121	           70	    1N	    1Y

          269	          135	           70	          122	    1Y	    1N

          270	          135	          122	           70	    1N	    1Y

          271	          136	           70	          123	    1Y	    1N

          272	          136	          123	           70	    1N	    1Y

          273	          137	           40	          124	    1Y	    1N

          274	          137	          124	           40	    1N	    1Y

          275	          138	           20	          125	    1Y	    1N

          276	          138	          125	           20	    1N	    1Y

          277	          139	           51	          127	    1Y	    1N

          278	          139	          127	           51	    1N	    1Y

          279	          140	           70	          126	    1Y	    1N

          280	          140	          126	           70	    1N	    1Y

          281	          141	          126	           12	    1N	    1N

          282	          141	           12	          126	    1N	    1Y

          283	          142	          127	           12	    1N	    1N

          284	          142	           12	          127	    1N	    1Y

          285	          143	          128	           12	    1N	    1N

          286	          143	           12	          128	    1N	    1Y

          287	          144	            5	          126	    1Y	    1N

          288	          144	          126	            5	    1N	    1Y

          289	          145	            6	          126	    1Y	    1N

          290	          145	          126	            6	    1N	    1Y

          291	          146	            9	          126	    1Y	    1N

          292	          146	          126	            9	    1N	    1Y

          293	          147	            8	          126	    1Y	    1N

          294	          147	          126	            8	    1N	    1Y

          295	          148	            5	          127	    1Y	    1N

          296	          148	          127	            5	    1N	    1Y

          297	          149	            6	          127	    1Y	    1N

          298	          149	          127	            6	    1N	    1Y

          299	          150	            9	          127	    1Y	    1N

          300	          150	          127	            9	    1N	    1Y

          301	          151	            8	          127	    1Y	    1N

          302	          151	          127	            8	    1N	    1Y

          303	          152	            5	          128	    1Y	    1N

          304	          152	          128	            5	    1N	    1Y

          305	          153	            9	          128	    1Y	    1N

          306	          153	          128	            9	    1N	    1Y

          307	          154	            8	          128	    1Y	    1N

          308	          154	          128	            8	    1N	    1Y

          309	          155	            6	          128	    1Y	    1N

          310	          155	          128	            6	    1N	    1Y

          312	          157	           39	           39	    1Y	    1N

          313	          158	           36	          129	    1Y	    1N

          314	          158	          129	           36	    1N	    1Y

          315	          159	           36	          130	    1N	    1N

          316	          159	          130	           36	    1N	    1Y

          317	          160	           36	          131	    1N	    1N

          318	          160	          131	           36	    1N	    1Y

          319	          161	           36	          132	    1N	    1N

          320	          161	          132	           36	    1N	    1Y

          321	          162	          130	           85	    1Y	    1N

          322	          162	           85	          130	    1N	    1Y

          324	          163	            8	            5	    1N	    1Y

          325	          164	           42	          124	    1Y	    1N

          326	          164	          124	           42	    1N	    1Y

          327	          165	          127	          133	    1Y	    1N

          328	          165	          133	          127	    1N	    1Y

!!
? fill eba19.sql 
!!

create table rrr(
	rrr_rel_route_id integer not null not default,
	rrr_relationship_id integer not null not default,
	rrr_group_id_from integer not null not default,
	rrr_group_id_to integer not null not default,
	rrr_one_to_many_maybe char(1) not null not default,
	rrr_flip_flag char(1) not null not default
)
with duplicates,
location = (ii_database),
page_size=2048
\p\g
copy rrr(
	rrr_rel_route_id= c0tab,
	rrr_relationship_id= c0tab,
	rrr_group_id_from= c0tab,
	rrr_group_id_to= c0tab,
	rrr_one_to_many_maybe= varchar(0)tab,
	rrr_flip_flag= varchar(0)nl,
	nl= d1)
from 'rrr.val'
\p\g

create table rgr(
	rgr_group_id integer not null not default,
	rgr_group_name varchar(15) not null not default,
	rgr_pseudo_group char(1) not null not default,
	rgr_entry_point char(1) not null not default,
	rgr_no_range_var smallint not null not default
)
with duplicates,
location = (ii_database),
page_size=2048
\p\g
copy rgr(
	rgr_group_id= c0tab,
	rgr_group_name= varchar(0)tab,
	rgr_pseudo_group= varchar(0)tab,
	rgr_entry_point= varchar(0)tab,
	rgr_no_range_var= c0nl,
	nl= d1)
from 'rgr.val'
\p\g

SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr1 WHERE rrr_group_id_from = rgr1.rgr_group_id )
UNION
SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr2 WHERE rrr_group_id_to = rgr2.rgr_group_id )
ORDER BY 2 
\p\g

SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr1 WHERE rrr_group_id_from = rgr1.rgr_group_id )
OR
NOT EXISTS
	( SELECT 1 FROM rgr rgr2 WHERE rrr_group_id_to = rgr2.rgr_group_id )
ORDER BY 2 
\p\g
!!
? sql -s SEPPARAMDB 
<<
>>
* drop table rrr, rgr; \g
<<
~
>>
* \i eba19.sql 
<<
 
create table rrr(
	rrr_rel_route_id integer not null not default,
	rrr_relationship_id integer not null not default,
	rrr_group_id_from integer not null not default,
	rrr_group_id_to integer not null not default,
	rrr_one_to_many_maybe char(1) not null not default,
	rrr_flip_flag char(1) not null not default
)
with duplicates,
location = (ii_database),
page_size=2048
copy rrr(
	rrr_rel_route_id= c0tab,
	rrr_relationship_id= c0tab,
	rrr_group_id_from= c0tab,
	rrr_group_id_to= c0tab,
	rrr_one_to_many_maybe= varchar(0)tab,
	rrr_flip_flag= varchar(0)nl,
	nl= d1)
from 'rrr.val'
(252 rows)

create table rgr(
	rgr_group_id integer not null not default,
	rgr_group_name varchar(15) not null not default,
	rgr_pseudo_group char(1) not null not default,
	rgr_entry_point char(1) not null not default,
	rgr_no_range_var smallint not null not default
)
with duplicates,
location = (ii_database),
page_size=2048
copy rgr(
	rgr_group_id= c0tab,
	rgr_group_name= varchar(0)tab,
	rgr_pseudo_group= varchar(0)tab,
	rgr_entry_point= varchar(0)tab,
	rgr_no_range_var= c0nl,
	nl= d1)
from 'rgr.val'
(80 rows)

SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr1 WHERE rrr_group_id_from = rgr1.rgr_group_id )
UNION
SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr2 WHERE rrr_group_id_to = rgr2.rgr_group_id )
ORDER BY 2 

+-------------+-------------+-------------+-------------+------+------+
|rrr_rel_route|rrr_relations|rrr_group_id_|rrr_group_id_|rrr_on|rrr_fl|
+-------------+-------------+-------------+-------------+------+------+
|          227|          114|           44|          101|Y     |N     |
|          228|          114|          101|           44|N     |Y     |
|          229|          115|           44|          102|Y     |N     |
|          230|          115|          102|           44|N     |Y     |
|          231|          116|           44|          103|Y     |N     |
|          232|          116|          103|           44|N     |Y     |
|          233|          117|           44|          104|Y     |N     |
|          234|          117|          104|           44|N     |Y     |
|          235|          118|           44|          105|Y     |N     |
|          236|          118|          105|           44|N     |Y     |
|          237|          119|           44|          106|Y     |N     |
|          238|          119|          106|           44|N     |Y     |
|          239|          120|           44|          107|Y     |N     |
|          240|          120|          107|           44|N     |Y     |
|          241|          121|           48|          108|Y     |N     |
|          242|          121|          108|           48|N     |Y     |
|          243|          122|           51|          109|Y     |N     |
|          244|          122|          109|           51|N     |Y     |
|          245|          123|           51|          110|Y     |N     |
|          246|          123|          110|           51|N     |Y     |
|          247|          124|           51|          111|Y     |N     |
|          248|          124|          111|           51|N     |Y     |
|          249|          125|           51|          112|Y     |N     |
|          250|          125|          112|           51|N     |Y     |
|          251|          126|           51|          113|Y     |N     |
|          252|          126|          113|           51|N     |Y     |
|          253|          127|           51|          114|Y     |N     |
|          254|          127|          114|           51|N     |Y     |
|          255|          128|           51|          115|Y     |N     |
|          256|          128|          115|           51|N     |Y     |
|          257|          129|           67|          116|Y     |N     |
|          258|          129|          116|           67|N     |Y     |
|          259|          130|           70|          117|Y     |N     |
|          260|          130|          117|           70|N     |Y     |
|          261|          131|           70|          118|Y     |N     |
|          262|          131|          118|           70|N     |Y     |
|          263|          132|           70|          119|Y     |N     |
|          264|          132|          119|           70|N     |Y     |
|          265|          133|           70|          120|Y     |N     |
|          266|          133|          120|           70|N     |Y     |
|          267|          134|           70|          121|Y     |N     |
|          268|          134|          121|           70|N     |Y     |
|          269|          135|           70|          122|Y     |N     |
|          270|          135|          122|           70|N     |Y     |
|          271|          136|           70|          123|Y     |N     |
|          272|          136|          123|           70|N     |Y     |
|          277|          139|           51|          127|Y     |N     |
|          278|          139|          127|           51|N     |Y     |
|          279|          140|           70|          126|Y     |N     |
|          280|          140|          126|           70|N     |Y     |
+-------------+-------------+-------------+-------------+------+------+
(50 rows)

SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr1 WHERE rrr_group_id_from = rgr1.rgr_group_id )
OR
NOT EXISTS
	( SELECT 1 FROM rgr rgr2 WHERE rrr_group_id_to = rgr2.rgr_group_id )
ORDER BY 2 

+-------------+-------------+-------------+-------------+------+------+
|rrr_rel_route|rrr_relations|rrr_group_id_|rrr_group_id_|rrr_on|rrr_fl|
+-------------+-------------+-------------+-------------+------+------+
|          228|          114|          101|           44|N     |Y     |
|          227|          114|           44|          101|Y     |N     |
|          229|          115|           44|          102|Y     |N     |
|          230|          115|          102|           44|N     |Y     |
|          232|          116|          103|           44|N     |Y     |
|          231|          116|           44|          103|Y     |N     |
|          233|          117|           44|          104|Y     |N     |
|          234|          117|          104|           44|N     |Y     |
|          236|          118|          105|           44|N     |Y     |
|          235|          118|           44|          105|Y     |N     |
|          238|          119|          106|           44|N     |Y     |
|          237|          119|           44|          106|Y     |N     |
|          240|          120|          107|           44|N     |Y     |
|          239|          120|           44|          107|Y     |N     |
|          242|          121|          108|           48|N     |Y     |
|          241|          121|           48|          108|Y     |N     |
|          244|          122|          109|           51|N     |Y     |
|          243|          122|           51|          109|Y     |N     |
|          246|          123|          110|           51|N     |Y     |
|          245|          123|           51|          110|Y     |N     |
|          248|          124|          111|           51|N     |Y     |
|          247|          124|           51|          111|Y     |N     |
|          250|          125|          112|           51|N     |Y     |
|          249|          125|           51|          112|Y     |N     |
|          252|          126|          113|           51|N     |Y     |
|          251|          126|           51|          113|Y     |N     |
|          254|          127|          114|           51|N     |Y     |
|          253|          127|           51|          114|Y     |N     |
|          256|          128|          115|           51|N     |Y     |
|          255|          128|           51|          115|Y     |N     |
|          257|          129|           67|          116|Y     |N     |
|          258|          129|          116|           67|N     |Y     |
|          259|          130|           70|          117|Y     |N     |
|          260|          130|          117|           70|N     |Y     |
|          261|          131|           70|          118|Y     |N     |
|          262|          131|          118|           70|N     |Y     |
|          263|          132|           70|          119|Y     |N     |
|          264|          132|          119|           70|N     |Y     |
|          265|          133|           70|          120|Y     |N     |
|          266|          133|          120|           70|N     |Y     |
|          267|          134|           70|          121|Y     |N     |
|          268|          134|          121|           70|N     |Y     |
|          270|          135|          122|           70|N     |Y     |
|          269|          135|           70|          122|Y     |N     |
|          272|          136|          123|           70|N     |Y     |
|          271|          136|           70|          123|Y     |N     |
|          277|          139|           51|          127|Y     |N     |
|          278|          139|          127|           51|N     |Y     |
|          280|          140|          126|           70|N     |Y     |
|          279|          140|           70|          126|Y     |N     |
+-------------+-------------+-------------+-------------+------+------+
(50 rows)
>>
<<
 
create table rrr(
	rrr_rel_route_id integer not null not default,
	rrr_relationship_id integer not null not default,
	rrr_group_id_from integer not null not default,
	rrr_group_id_to integer not null not default,
	rrr_one_to_many_maybe char(1) not null not default,
	rrr_flip_flag char(1) not null not default
)
with duplicates,
location = (ii_database),
page_size=2048
copy rrr(
	rrr_rel_route_id= c0tab,
	rrr_relationship_id= c0tab,
	rrr_group_id_from= c0tab,
	rrr_group_id_to= c0tab,
	rrr_one_to_many_maybe= varchar(0)tab,
	rrr_flip_flag= varchar(0)nl,
	nl= d1)
from 'rrr.val'
(252 rows)

create table rgr(
	rgr_group_id integer not null not default,
	rgr_group_name varchar(15) not null not default,
	rgr_pseudo_group char(1) not null not default,
	rgr_entry_point char(1) not null not default,
	rgr_no_range_var smallint not null not default
)
with duplicates,
location = (ii_database),
page_size=2048
copy rgr(
	rgr_group_id= c0tab,
	rgr_group_name= varchar(0)tab,
	rgr_pseudo_group= varchar(0)tab,
	rgr_entry_point= varchar(0)tab,
	rgr_no_range_var= c0nl,
	nl= d1)
from 'rgr.val'
(80 rows)

SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr1 WHERE rrr_group_id_from = rgr1.rgr_group_id )
UNION
SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr2 WHERE rrr_group_id_to = rgr2.rgr_group_id )
ORDER BY 2 

+-------------+-------------+-------------+-------------+------+------+
|rrr_rel_route|rrr_relations|rrr_group_id_|rrr_group_id_|rrr_on|rrr_fl|
+-------------+-------------+-------------+-------------+------+------+
|          227|          114|           44|          101|Y     |N     |
|          228|          114|          101|           44|N     |Y     |
|          229|          115|           44|          102|Y     |N     |
|          230|          115|          102|           44|N     |Y     |
|          231|          116|           44|          103|Y     |N     |
|          232|          116|          103|           44|N     |Y     |
|          233|          117|           44|          104|Y     |N     |
|          234|          117|          104|           44|N     |Y     |
|          235|          118|           44|          105|Y     |N     |
|          236|          118|          105|           44|N     |Y     |
|          237|          119|           44|          106|Y     |N     |
|          238|          119|          106|           44|N     |Y     |
|          239|          120|           44|          107|Y     |N     |
|          240|          120|          107|           44|N     |Y     |
|          241|          121|           48|          108|Y     |N     |
|          242|          121|          108|           48|N     |Y     |
|          243|          122|           51|          109|Y     |N     |
|          244|          122|          109|           51|N     |Y     |
|          245|          123|           51|          110|Y     |N     |
|          246|          123|          110|           51|N     |Y     |
|          247|          124|           51|          111|Y     |N     |
|          248|          124|          111|           51|N     |Y     |
|          249|          125|           51|          112|Y     |N     |
|          250|          125|          112|           51|N     |Y     |
|          251|          126|           51|          113|Y     |N     |
|          252|          126|          113|           51|N     |Y     |
|          253|          127|           51|          114|Y     |N     |
|          254|          127|          114|           51|N     |Y     |
|          255|          128|           51|          115|Y     |N     |
|          256|          128|          115|           51|N     |Y     |
|          257|          129|           67|          116|Y     |N     |
|          258|          129|          116|           67|N     |Y     |
|          259|          130|           70|          117|Y     |N     |
|          260|          130|          117|           70|N     |Y     |
|          261|          131|           70|          118|Y     |N     |
|          262|          131|          118|           70|N     |Y     |
|          263|          132|           70|          119|Y     |N     |
|          264|          132|          119|           70|N     |Y     |
|          265|          133|           70|          120|Y     |N     |
|          266|          133|          120|           70|N     |Y     |
|          267|          134|           70|          121|Y     |N     |
|          268|          134|          121|           70|N     |Y     |
|          269|          135|           70|          122|Y     |N     |
|          270|          135|          122|           70|N     |Y     |
|          271|          136|           70|          123|Y     |N     |
|          272|          136|          123|           70|N     |Y     |
|          277|          139|           51|          127|Y     |N     |
|          278|          139|          127|           51|N     |Y     |
|          279|          140|           70|          126|Y     |N     |
|          280|          140|          126|           70|N     |Y     |
+-------------+-------------+-------------+-------------+------+------+
(50 rows)

SELECT *
FROM rrr
WHERE NOT EXISTS
	( SELECT 1 FROM rgr rgr1 WHERE rrr_group_id_from = rgr1.rgr_group_id )
OR
NOT EXISTS
	( SELECT 1 FROM rgr rgr2 WHERE rrr_group_id_to = rgr2.rgr_group_id )
ORDER BY 2 

+-------------+-------------+-------------+-------------+------+------+
|rrr_rel_route|rrr_relations|rrr_group_id_|rrr_group_id_|rrr_on|rrr_fl|
+-------------+-------------+-------------+-------------+------+------+
|          227|          114|           44|          101|Y     |N     |
|          228|          114|          101|           44|N     |Y     |
|          230|          115|          102|           44|N     |Y     |
|          229|          115|           44|          102|Y     |N     |
|          232|          116|          103|           44|N     |Y     |
|          231|          116|           44|          103|Y     |N     |
|          234|          117|          104|           44|N     |Y     |
|          233|          117|           44|          104|Y     |N     |
|          236|          118|          105|           44|N     |Y     |
|          235|          118|           44|          105|Y     |N     |
|          238|          119|          106|           44|N     |Y     |
|          237|          119|           44|          106|Y     |N     |
|          239|          120|           44|          107|Y     |N     |
|          240|          120|          107|           44|N     |Y     |
|          241|          121|           48|          108|Y     |N     |
|          242|          121|          108|           48|N     |Y     |
|          243|          122|           51|          109|Y     |N     |
|          244|          122|          109|           51|N     |Y     |
|          245|          123|           51|          110|Y     |N     |
|          246|          123|          110|           51|N     |Y     |
|          247|          124|           51|          111|Y     |N     |
|          248|          124|          111|           51|N     |Y     |
|          249|          125|           51|          112|Y     |N     |
|          250|          125|          112|           51|N     |Y     |
|          251|          126|           51|          113|Y     |N     |
|          252|          126|          113|           51|N     |Y     |
|          253|          127|           51|          114|Y     |N     |
|          254|          127|          114|           51|N     |Y     |
|          255|          128|           51|          115|Y     |N     |
|          256|          128|          115|           51|N     |Y     |
|          258|          129|          116|           67|N     |Y     |
|          257|          129|           67|          116|Y     |N     |
|          260|          130|          117|           70|N     |Y     |
|          259|          130|           70|          117|Y     |N     |
|          262|          131|          118|           70|N     |Y     |
|          261|          131|           70|          118|Y     |N     |
|          264|          132|          119|           70|N     |Y     |
|          263|          132|           70|          119|Y     |N     |
|          266|          133|          120|           70|N     |Y     |
|          265|          133|           70|          120|Y     |N     |
|          268|          134|          121|           70|N     |Y     |
|          267|          134|           70|          121|Y     |N     |
|          270|          135|          122|           70|N     |Y     |
|          269|          135|           70|          122|Y     |N     |
|          271|          136|           70|          123|Y     |N     |
|          272|          136|          123|           70|N     |Y     |
|          278|          139|          127|           51|N     |Y     |
|          277|          139|           51|          127|Y     |N     |
|          279|          140|           70|          126|Y     |N     |
|          280|          140|          126|           70|N     |Y     |
+-------------+-------------+-------------+-------------+------+------+
(50 rows)
>>
* \q 
<<
>>


Ending at: Mon Feb 08 16:04:25 1999
