/*
        Test Name: cea05.sep
        Time: TH Dec 12 12:29:36 1991
        User Name: testenv
        Test ID : cea05
        Module  :
        Filename: cea05.sep
        Purpose : Test all structures for bug 41204
        Input Files  : none
        Output Files : none
        Database     : SEPPARAMDB
        Tables       : cea05_t1 to cea05_t22
        Synopsis     : 
		For Each Structure do following:
		In between each command look at both Table and Index
		1. Create a table, modify it to a structure.
		2. Create a index on the structure that is a btree.
		3. Set column OTYPE to 'p'. 
		4. Rollback. 
		5. Set column OTYPE to 'p'.
		6. Rollback.
		7. Set column OTYPE to 'p'.
		8. Then examine a query linking the index and table.
		Structures:
			HEAP			CHEAP
      			BTREE on OTYPE		BTREE on PID		
			CBTREE on OTYPE		CBTREE on PID
			HASH on OTYPE		HASH on PID
			CHASH on OTYPE		CHASH on PID
			ISAM on OTYPE		ISAM on PID
			ISAM on OTYPE		CISAM on PID
			HEAPSORT on OTYPE	HEAPSORT on PID
			CHEAPSORT on OTYPE	CHEAPSORT on PID
			BTREE WITH COMPRESSION ON KEY = OTYPE
			BTREE WITH COMPRESSION ON KEY = PID
			BTREE WITH COMPRESSION ON KEY = OTYPE AND DATA
			BTREE WITH COMPRESSION ON KEY = PID AND DATA			
        History : 12-12-91 Created by CAMACHO
          25-Feb-1993	(Author)
           2-Aug-1993	(garys) integrities is now "yes" for 65 instead of 
				"none".
          20-Aug-1993	(garys) updated canon to accept correct # of overflow
				data pages and yes on integrities for help
				table info.
          11-Oct-1993   (judi)  when create a table in 6.5 journaling is now
                                automatically enabled.  Therefore, all the
                                help table canons were updated.
          20-Jan-1994	(camacho)
		Updating test to accept the change in 6.5 that
		will no longer treat columns that are "not null"
		as columns with integrities. Help info use to 
		display integrities as YES and no display them as NO.
          23-Mar-1995   (gauje01)  Updated canons to contain current Ingres
				   version number. (OPING1.2)
           7-May-1997	(seran01)  Updated canons to reflect changes to help
                                   table command in OI 2.0 release
          07-Jan-1999   (hanch04) Replace table version with TBL_VER
	  18-Mar-1999	(vande02) Hard-coded VPG_SZ to 8K and removed TBL_VER
				  (grammar.lex masks table versions)
*/
? fill cea05.dat 
!!
  	            1	            1	        60302
  	            2	            2	        60302
  	            3	            3	        60302
  	            3	            4	        60302
  	            4	            6	        60302
  	            4	            7	        60302
  	            4	            8	        60302
  	           17	           17	        60302
  	          821	          224	        60302
  	          823	          226	        60302
  	          824	          227	        60302
  	       137089	        99135	        60302
!!
? sql -s SEPPARAMDB 
<<
>>
* drop table cea05_t1 ;\g
<<
~
>>
* create table cea05_t1 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t1 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t1 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t1 to heap with page_size=8192;\g
/*
	Test bug against HEAP
*/
<<
(12 rows)
>>
* create index cea05_t1_index on cea05_t1 (zsort) with structure = btree, page_size=-
8192  ;\g
<<
(12 rows)
>>
* help table cea05_t1 ;\g
/*
*/
<<
Name:                 cea05_t1
Owner:                testenv
Created:              07-may-1997 11:31:11     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    heap
Compression:          none
Duplicate Rows:       allowed
Number of pages:      3
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t1_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t1 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t1 A, cea05_t1_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t1; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t1_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t1 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t1 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t1 A, cea05_t1_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t1; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t1_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t1 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t1 A, cea05_t1_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t1; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t1_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t1 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t1  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t1 A, cea05_t1_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t1; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t1_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t1 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t1 A, cea05_t1_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t1; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t1_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t1 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t1 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t1 A, cea05_t1_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t1; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t1_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t2 ;\g
<<
~
>>
* create table cea05_t2 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t2 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t2 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t2 to cheap with page_size=8192 ;\g
/*
        Test bug against CHEAP
*/
<<
(12 rows)
>>
* create index cea05_t2_index on cea05_t2 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t2 ;\g
/*
*/
<<
Name:                 cea05_t2
Owner:                testenv
Created:              07-may-1997 11:32:06     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    heap
Compression:          data
Duplicate Rows:       allowed
Number of pages:      3
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t2_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t2 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t2 A, cea05_t2_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t2; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t2_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t2 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t2 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t2 A, cea05_t2_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t2; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t2_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t2 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t2 A, cea05_t2_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t2; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t2_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t2 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t2 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t2 A, cea05_t2_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t2; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t2_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t2 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t2 A, cea05_t2_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t2; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t2_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t2 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t2 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t2 A, cea05_t2_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t2; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t2_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t3 ;\g
<<
~
>>
* create table cea05_t3 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t3 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t3 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t3 to btree on otype with page_size=8192 ;\g
/*
        Test bug against BTREE on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t3_index on cea05_t3 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t3 ;\g
/*
*/
<<
Name:                 cea05_t3
Owner:                testenv
Created:              07-may-1997 11:33:01     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          none
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t3_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t3 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t3 A, cea05_t3_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t3; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t3_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t3 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t3 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t3 A, cea05_t3_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t3; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t3_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t3 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t3 A, cea05_t3_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t3; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t3_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t3 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t3 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t3 A, cea05_t3_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t3; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t3_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t3 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t3 A, cea05_t3_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t3; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t3_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t3 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t3 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t3 A, cea05_t3_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t3; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t3_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t4 ;\g
<<
~
>>
* create table cea05_t4 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t4 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t4 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t4 to btree on pid  with page_size=8192 ;\g
/*
        Test bug against BTREE on PID
*/
<<
(12 rows)
>>
* create index cea05_t4_index on cea05_t4 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t4 ;\g
/*
*/
<<
Name:                 cea05_t4
Owner:                testenv
Created:              07-may-1997 11:34:19     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          none
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t4_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t4 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t4 A, cea05_t4_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t4; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t4_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t4 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t4 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t4 A, cea05_t4_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t4; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t4_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t4 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t4 A, cea05_t4_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t4; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t4_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t4 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t4 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t4 A, cea05_t4_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t4; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t4_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t4 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t4 A, cea05_t4_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t4; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t4_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t4 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t4 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t4 A, cea05_t4_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t4; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t4_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t5 ;\g
<<
~
>>
* create table cea05_t5 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t5 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t5 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t5 to cbtree on otype with page_size=8192 ;\g
/*
        Test bug against CBTREE on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t5_index on cea05_t5 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t5 ;\g
/*
*/
<<
Name:                 cea05_t5
Owner:                testenv
Created:              07-may-1997 11:35:36     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          data
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t5_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t5 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t5 A, cea05_t5_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t5; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t5_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t5 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t5 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t5 A, cea05_t5_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t5; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t5_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t5 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t5 A, cea05_t5_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t5; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t5_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t5 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t5 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t5 A, cea05_t5_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t5; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t5_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t5 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t5 A, cea05_t5_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t5; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t5_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t5 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t5 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t5 A, cea05_t5_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t5; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t5_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t6 ;\g
<<
~
>>
* create table cea05_t6 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t6 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t6 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t6 to cbtree on pid  with page_size=8192 ;\g
/*
        Test bug against CBTREE on PID
*/
<<
(12 rows)
>>
* create index cea05_t6_index on cea05_t6 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t6 ;\g
/*
*/
<<
Name:                 cea05_t6
Owner:                testenv
Created:              07-may-1997 11:37:51     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          data
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t6_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t6 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t6 A, cea05_t6_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t6; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t6_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t6 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t6 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t6 A, cea05_t6_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t6; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t6_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t6 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t6 A, cea05_t6_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t6; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t6_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t6 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t6 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t6 A, cea05_t6_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t6; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t6_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t6 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t6 A, cea05_t6_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t6; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t6_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t6 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t6 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t6 A, cea05_t6_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t6; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t6_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t7 ;\g
<<
~
>>
* create table cea05_t7 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t7 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t7 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t7 to hash on otype  with page_size=8192 ;\g
/*
        Test bug against HASH on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t7_index on cea05_t7 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t7 ;\g
/*
*/
<<
Name:                 cea05_t7
Owner:                testenv
Created:              07-may-1997 11:39:24     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    hash
Compression:          none
Duplicate Rows:       not allowed
Number of pages:      18
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t7_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t7 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t7 A, cea05_t7_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t7; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t7_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t7 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t7 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t7 A, cea05_t7_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t7; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t7_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t7 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t7 A, cea05_t7_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t7; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t7_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t7 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t7 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t7 A, cea05_t7_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t7; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t7_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t7 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t7 A, cea05_t7_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t7; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t7_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t7 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t7 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t7 A, cea05_t7_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t7; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t7_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t8 ;\g
<<
~
>>
* create table cea05_t8 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t8 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t8 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t8 to hash on pid  with page_size=8192 ;\g
/*
        Test bug against HASH on PID
*/
<<
(12 rows)
>>
* create index cea05_t8_index on cea05_t8 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t8 ;\g
/*
*/
<<
Name:                 cea05_t8
Owner:                testenv
Created:              07-may-1997 11:40:41     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    hash
Compression:          none
Duplicate Rows:       not allowed
Number of pages:      18
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t8_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t8 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t8 A, cea05_t8_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t8; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t8_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t8 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t8 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t8 A, cea05_t8_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t8; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t8_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t8 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t8 A, cea05_t8_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t8; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t8_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t8 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t8 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t8 A, cea05_t8_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t8; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t8_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t8 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t8 A, cea05_t8_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t8; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t8_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t8 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t8 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t8 A, cea05_t8_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t8; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t8_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t9 ;\g
<<
~
>>
* create table cea05_t9 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t9 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t9 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t9 to chash on otype  with page_size=8192 ;\g
/*
        Test bug against CHASH on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t9_index on cea05_t9 (zsort) with structure = btree, page_size=-
8192 ;\g
<<
(12 rows)
>>
* help table cea05_t9 ;\g
/*
*/
<<
Name:                 cea05_t9
Owner:                testenv
Created:              07-may-1997 11:41:43     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    hash
Compression:          data
Duplicate Rows:       not allowed
Number of pages:      18
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t9_index                   btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t9 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t9 A, cea05_t9_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t9; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t9_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t9 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t9 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t9 A, cea05_t9_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t9; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t9_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t9 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t9 A, cea05_t9_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t9; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t9_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t9 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t9 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t9 A, cea05_t9_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t9; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t9_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t9 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t9 A, cea05_t9_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t9; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t9_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t9 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t9 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t9 A, cea05_t9_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t9; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t9_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t10 ;\g
<<
~
>>
* create table cea05_t10 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t10 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t10 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t10 to chash on pid with page_size=8192 ;\g
/*
        Test bug against CHASH on PID
*/
<<
(12 rows)
>>
* create index cea05_t10_index on cea05_t10 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t10 ;\g
/*
*/
<<
Name:                 cea05_t10
Owner:                testenv
Created:              07-may-1997 11:42:40     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    hash
Compression:          data
Duplicate Rows:       not allowed
Number of pages:      18
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t10_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t10 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t10 A, cea05_t10_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t10; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t10_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t10 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t10 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t10 A, cea05_t10_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t10; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t10_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t10 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t10 A, cea05_t10_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t10; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t10_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t10 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t10 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t10 A, cea05_t10_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t10; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t10_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t10 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t10 A, cea05_t10_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t10; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t10_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t10 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t10 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t10 A, cea05_t10_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t10; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t10_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t11 ;\g
<<
~
>>
* create table cea05_t11 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t11 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t11 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t11 to isam on otype with page_size=8192 ;\g
/*
        Test bug against ISAM on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t11_index on cea05_t11 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t11 ;\g
/*
*/
<<
Name:                 cea05_t11
Owner:                testenv
Created:              07-may-1997 11:45:11     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    isam
Compression:          none
Duplicate Rows:       not allowed
Number of pages:      4
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t11_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t11 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t11 A, cea05_t11_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t11; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t11_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t11 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t11 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t11 A, cea05_t11_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t11; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t11_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t11 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t11 A, cea05_t11_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t11; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t11_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t11 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t11 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t11 A, cea05_t11_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t11; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t11_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t11 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t11 A, cea05_t11_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t11; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t11_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t11 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t11 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t11 A, cea05_t11_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t11; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t11_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t12 ;\g
<<
~
>>
* create table cea05_t12 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t12 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t12 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t12 to isam on pid with page_size=8192 ;\g
/*
        Test bug against ISAM on PID
*/
<<
(12 rows)
>>
* create index cea05_t12_index on cea05_t12 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t12 ;\g
/*
*/
<<
Name:                 cea05_t12
Owner:                testenv
Created:              07-may-1997 11:46:46     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    isam
Compression:          none
Duplicate Rows:       not allowed
Number of pages:      4
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t12_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t12 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t12 A, cea05_t12_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t12; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t12_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t12 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t12 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t12 A, cea05_t12_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t12; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t12_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t12 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t12 A, cea05_t12_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t12; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t12_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t12 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t12 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t12 A, cea05_t12_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t12; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t12_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t12 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t12 A, cea05_t12_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t12; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t12_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t12 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t12 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t12 A, cea05_t12_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t12; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t12_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t13 ;\g
<<
~
>>
* create table cea05_t13 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t13 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t13 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t13 to cisam on otype with page_size=8192 ;\g
/*
        Test bug against ISAM on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t13_index on cea05_t13 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t13 ;\g
/*
*/
<<
Name:                 cea05_t13
Owner:                testenv
Created:              07-may-1997 11:48:05     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    isam
Compression:          data
Duplicate Rows:       not allowed
Number of pages:      4
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t13_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t13 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t13 A, cea05_t13_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t13; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t13_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t13 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t13 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t13 A, cea05_t13_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t13; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t13_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t13 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t13 A, cea05_t13_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t13; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t13_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t13 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t13 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t13 A, cea05_t13_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t13; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t13_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t13 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t13 A, cea05_t13_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t13; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t13_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t13 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t13 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t13 A, cea05_t13_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t13; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t13_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t14 ;\g
<<
~
>>
* create table cea05_t14 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t14 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t14 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t14 to cisam on pid with page_size=8192 ;\g
/*
        Test bug against CISAM on PID
*/
<<
(12 rows)
>>
* create index cea05_t14_index on cea05_t14 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t14 ;\g
/*
*/
<<
Name:                 cea05_t14
Owner:                testenv
Created:              07-may-1997 11:52:11     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    isam
Compression:          data
Duplicate Rows:       not allowed
Number of pages:      4
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t14_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t14 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t14 A, cea05_t14_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t14; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t14_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t14 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t14 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t14 A, cea05_t14_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t14; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t14_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t14 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t14 A, cea05_t14_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t14; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t14_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t14 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t14 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t14 A, cea05_t14_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t14; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t14_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t14 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t14 A, cea05_t14_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t14; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t14_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t14 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t14 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t14 A, cea05_t14_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t14; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t14_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t15 ;\g
<<
~
>>
* create table cea05_t15 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t15 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t15 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t15 to heapsort on otype  with page_size=8192 ;\g
/*
        Test bug against HEAPSORT on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t15_index on cea05_t15 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t15 ;\g
/*
*/
<<
Name:                 cea05_t15
Owner:                testenv
Created:              07-may-1997 11:53:45     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    heap
Compression:          none
Duplicate Rows:       allowed
Number of pages:      3
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t15_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t15 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t15 A, cea05_t15_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t15; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t15_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t15 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t15 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t15 A, cea05_t15_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t15; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t15_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t15 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t15 A, cea05_t15_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t15; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t15_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t15 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t15 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t15 A, cea05_t15_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t15; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t15_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t15 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t15 A, cea05_t15_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t15; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t15_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t15 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t15 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t15 A, cea05_t15_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t15; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t15_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t16 ;\g
<<
~
>>
* create table cea05_t16 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t16 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t16 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t16 to heapsort on pid  with page_size=8192 ;\g
/*
        Test bug against HEAPSORT on PID
*/
<<
(12 rows)
>>
* create index cea05_t16_index on cea05_t16 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t16 ;\g
/*
*/
<<
Name:                 cea05_t16
Owner:                testenv
Created:              07-may-1997 11:54:40     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    heap
Compression:          none
Duplicate Rows:       allowed
Number of pages:      3
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t16_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t16 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t16 A, cea05_t16_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t16; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t16_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t16 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t16 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t16 A, cea05_t16_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t16; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t16_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t16 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t16 A, cea05_t16_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t16; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t16_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t16 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t16 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t16 A, cea05_t16_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t16; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t16_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t16 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t16 A, cea05_t16_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t16; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t16_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t16 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t16 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t16 A, cea05_t16_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t16; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t16_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t17 ;\g
<<
~
>>
* create table cea05_t17 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t17 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t17 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t17 to cheapsort on otype with page_size=8192 ;\g
/*
        Test bug against CHEAPSORT on OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t17_index on cea05_t17 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t17 ;\g
/*
*/
<<
Name:                 cea05_t17
Owner:                testenv
Created:              07-may-1997 11:55:34     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    heap
Compression:          data
Duplicate Rows:       allowed
Number of pages:      3
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t17_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t17 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t17 A, cea05_t17_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t17; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t17_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t17 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t17 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t17 A, cea05_t17_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t17; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t17_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t17 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t17 A, cea05_t17_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t17; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t17_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t17 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t17 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t17 A, cea05_t17_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t17; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t17_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t17 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t17 A, cea05_t17_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t17; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t17_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t17 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t17 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t17 A, cea05_t17_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t17; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t17_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t18 ;\g
<<
~
>>
* create table cea05_t18 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t18 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t18 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t18 to cheapsort on pid  with page_size=8192 ;\g
/*
        Test bug against CHEAPSORT on PID
*/
<<
(12 rows)
>>
* create index cea05_t18_index on cea05_t18 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t18 ;\g
/*
*/
<<
Name:                 cea05_t18
Owner:                testenv
Created:              07-may-1997 11:56:25     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    heap
Compression:          data
Duplicate Rows:       allowed
Number of pages:      3
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t18_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t18 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t18 A, cea05_t18_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t18; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t18_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t18 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t18 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t18 A, cea05_t18_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t18; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t18_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t18 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t18 A, cea05_t18_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t18; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t18_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t18 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t18 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t18 A, cea05_t18_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t18; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t18_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t18 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t18 A, cea05_t18_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t18; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t18_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t18 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t18 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t18 A, cea05_t18_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t18; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t18_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t19 ;\g
<<
~
>>
* create table cea05_t19 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t19 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t19 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t19 to btree on otype with compression = (key),page_size=8192;\g
/*
        Test bug against BTREE WITH COMPRESSION ON KEY = OTYPE
*/
<<
(12 rows)
>>
* create index cea05_t19_index on cea05_t19 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t19 ;\g
/*
*/
<<
Name:                 cea05_t19
Owner:                testenv
Created:              07-may-1997 11:57:17     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          key
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t19_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t19 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t19 A, cea05_t19_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t19; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t19_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t19 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t19 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t19 A, cea05_t19_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t19; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t19_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t19 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t19 A, cea05_t19_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t19; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t19_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t19 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t19 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t19 A, cea05_t19_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t19; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t19_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t19 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t19 A, cea05_t19_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t19; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t19_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t19 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t19 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t19 A, cea05_t19_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t19; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t19_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t20 ;\g
<<
~
>>
* create table cea05_t20 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t20 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t20 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t20 to btree on pid with compression = (key),page_size=8192;\g
/*
        Test bug against BTREE WITH COMPRESSION ON KEY = PID
*/
<<
(12 rows)
>>
* create index cea05_t20_index on cea05_t20 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t20 ;\g
/*
*/
<<
Name:                 cea05_t20
Owner:                testenv
Created:              07-may-1997 11:58:11     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          key
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t20_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t20 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t20 A, cea05_t20_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t20; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t20_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t20 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t20 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t20 A, cea05_t20_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t20; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t20_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t20 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t20 A, cea05_t20_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t20; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t20_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t20 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t20 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t20 A, cea05_t20_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t20; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t20_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t20 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t20 A, cea05_t20_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t20; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t20_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t20 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t20 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t20 A, cea05_t20_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t20; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t20_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t21 ;\g
<<
~
>>
* create table cea05_t21 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t21 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t21 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t21 to btree on otype with compression = (key,data),page_size=8192;\g
/*
        Test bug against BTREE WITH COMPRESSION ON KEY = OTYPE AND DATA
*/
<<
(12 rows)
>>
* create index cea05_t21_index on cea05_t21 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t21 ;\g
/*
*/
<<
Name:                 cea05_t21
Owner:                testenv
Created:              07-may-1997 11:59:04     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          data, key
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no     1 
pid                              integer         4   no      no       
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t21_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t21 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t21 A, cea05_t21_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t21; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t21_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t21 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t21 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t21 A, cea05_t21_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t21; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t21_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t21 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t21 A, cea05_t21_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t21; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t21_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t21 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t21 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t21 A, cea05_t21_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t21; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t21_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t21 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t21 A, cea05_t21_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t21; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t21_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t21 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t21 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t21 A, cea05_t21_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t21; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t21_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t22 ;\g
<<
~
>>
* create table cea05_t22 ( 
<<
>>
*	otype char(2) not null, pid integer not null,
<<
>>
*	aid integer not null, zsort integer not null) 
<<
>>
*	with noduplicates, page_size=8192  ;\g
<<
>>
* copy cea05_t22 (
<<
>>
*	otype= c0tab, pid= c0tab, aid= c0tab, zsort= c0nl) 
<<
>>
*	from 'cea05.dat'  ;\g
<<
(12 rows)
>>
* update cea05_t22 set otype = ''  ;\g
<<
(12 rows)
>>
* modify cea05_t22 to btree on pid with compression = (key,data),page_size=8192;\g
/*
        Test bug against BTREE WITH COMPRESSION ON KEY = PID AND DATA
*/
<<
(12 rows)
>>
* create index cea05_t22_index on cea05_t22 (zsort) with structure = btree, page_siz-
e=8192 ;\g
<<
(12 rows)
>>
* help table cea05_t22 ;\g
/*
*/
<<
Name:                 cea05_t22
Owner:                testenv
Created:              07-may-1997 11:59:55     
Location:             ii_database
Type:                 user table
Version:              OI2.0
Page size:            8192
Cache priority:       0
Alter table version:  0
Alter table totwidth: 14
Row width:            14
Number of rows:       12
Storage structure:    btree
Compression:          data, key
Duplicate Rows:       not allowed
Number of pages:      5
Overflow data pages:  0
Journaling:           enabled after the next checkpoint
Base table for view:  no
Permissions:          none
Integrities:          none
Optimizer statistics: none

Column Information:
                                                                  Key
Column Name                      Type       Length Nulls Defaults Seq
otype                            char            2   no      no       
pid                              integer         4   no      no     1 
aid                              integer         4   no      no       
zsort                            integer         4   no      no       

Secondary indexes:
Index Name                       Structure  Keyed On
cea05_t22_index                  btree      zsort



>>
* commit ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t22 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t22 A, cea05_t22_index B where
<<
>>
*	A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t22; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t22_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* commit ; set autocommit off  ;\g
<<
>>
* update cea05_t22 set otype = 'p' where otype = ''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t22 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t22 A, cea05_t22_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t22; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t22_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t22 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t22 A, cea05_t22_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t22; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t22_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t22 set otype = 'p' where otype =''  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t22 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t22 A, cea05_t22_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t22; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t22_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* rollback  ;\g
<<
>>
* select otype,pid,aid,zsort from cea05_t22 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|      |            1|            1|        60302|
|      |            2|            2|        60302|
|      |            3|            3|        60302|
|      |            3|            4|        60302|
|      |            4|            6|        60302|
|      |            4|            7|        60302|
|      |            4|            8|        60302|
|      |           17|           17|        60302|
|      |          821|          224|        60302|
|      |          823|          226|        60302|
|      |          824|          227|        60302|
|      |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t22 A, cea05_t22_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t22; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t22_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* update cea05_t22 set otype = 'p'  ;\g
<<
(12 rows)
>>
* select otype,pid,aid,zsort from cea05_t22 order by pid,aid  ;\g
<<

+------+-------------+-------------+-------------+
|otype |pid          |aid          |zsort        |
+------+-------------+-------------+-------------+
|p     |            1|            1|        60302|
|p     |            2|            2|        60302|
|p     |            3|            3|        60302|
|p     |            3|            4|        60302|
|p     |            4|            6|        60302|
|p     |            4|            7|        60302|
|p     |            4|            8|        60302|
|p     |           17|           17|        60302|
|p     |          821|          224|        60302|
|p     |          823|          226|        60302|
|p     |          824|          227|        60302|
|p     |       137089|        99135|        60302|
+------+-------------+-------------+-------------+
(12 rows)
>>
* select A.aid from cea05_t22 A, cea05_t22_index B where
<<
>>
*       A.tid = B.tidp and A.zsort != B.zsort;\g
<<

+-------------+
|aid          |
+-------------+
+-------------+
(0 rows)
>>
* select count(*) from cea05_t22; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* select count(*) from cea05_t22_index; \g
<<

+-------------+
|col1         |
+-------------+
|           12|
+-------------+
(1 row)
>>
* drop table cea05_t1;\g
<<
~
>>
* drop table cea05_t2;\g
<<
~
>>
* drop table cea05_t3;\g
<<
~
>>
* drop table cea05_t4;\g
<<
~
>>
* drop table cea05_t5;\g
<<
~
>>
* drop table cea05_t6;\g
<<
~
>>
* drop table cea05_t7;\g
<<
~
>>
* drop table cea05_t8;\g
<<
~
>>
* drop table cea05_t9;\g
<<
~
>>
* drop table cea05_t10;\g
<<
~
>>
* drop table cea05_t11;\g
<<
~
>>
* drop table cea05_t12;\g
<<
~
>>
* drop table cea05_t13;\g
<<
~
>>
* drop table cea05_t14;\g
<<
~
>>
* drop table cea05_t15;\g
<<
~
>>
* drop table cea05_t16;\g
<<
~
>>
* drop table cea05_t17;\g
<<
~
>>
* drop table cea05_t18;\g
<<
~
>>
* drop table cea05_t19;\g
<<
~
>>
* drop table cea05_t20;\g
<<
~
>>
* drop table cea05_t21;\g
<<
~
>>
* drop table cea05_t22;\g
<<
~
>>
* \q
<<
>>


Ending at: Wed May  7 12:01:09 1997
