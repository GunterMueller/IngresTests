/*
  Copyright (c) 2008 Ingres Corporation

  Test Name     : dt77.sep
  Suite         : be!datatypes
  Focus         : Ingres Regression Test
                : Test for SIR 115505 - Ingres should support hex constants in
                : the form 0x7465
                :
  Databases     : SEPPARAMDB
  Tables        : b115505_*
  Filled Files  : 
  Copied Files  :
  Output Files  :
  Prerequisites : None
  Run as user   : testenv 
  Summary       : Verifies fix for bug 115505
                :
  Exp. DIFFs    : None
                :
  History       : 10-Oct-2008 (wanfr01) Created.
                : 10-Oct-2008 (sarjo01) Formalized for piccolo.
                : 03-Nov-2008 (wanfr01) Cleaned up compiler warnings
*/
? sql -s SEPPARAMDB
<< 

>> 
* drop table b115505_1t\g
<<
~
>>
* create table b115505_1t ( c1 char(8) ) \g
<<
>>
* insert into b115505_1t values ( x'74657374696E67' ) \g
<<
(1 row)
>>
* insert into b115505_1t values (x'74657374696E67') \g
<<
(1 row)
>>
* insert into b115505_1t values ( 0x72657374696E67 ) \g
<<
(1 row)
>>
* insert into b115505_1t values (0x72657374696E67) \g
<<
(1 row)
>>
* \q
<<
>>
? sql -s SEPPARAMDB
<< 

>> 
* select * from b115505_1t \g
<<

+--------+
|c1      |
+--------+
|testing |
|testing |
|resting |
|resting |
+--------+
(4 rows)
>>
* \q
<<
>>
? fill b115505.sc
!!
#include <stdio.h>
#include <stdlib.h>

EXEC SQL INCLUDE SQLCA;

int main(argc,argv)
int  argc;
EXEC SQL BEGIN DECLARE SECTION;
char *argv[];
EXEC SQL END DECLARE SECTION;
{

   if (argc < 2)
   {
      printf("Usage: %s <database name>\n",argv[0]);
      exit(1);
   }

   EXEC SQL WHENEVER SQLERROR STOP;

   /* Start up INGRES and the INGRES/FORMS system */
   EXEC SQL CONNECT :argv[1];

   EXEC SQL
        insert into b115505_1t values (x'616263');
   EXEC SQL
        insert into b115505_1t values (0x515253);
   EXEC SQL
        insert into b115505_1t values ( X'6279656279654141' );
   EXEC SQL
        insert into b115505_1t values ( 0X696E67636F7270 );
   EXEC SQL COMMIT;

   exit(0);
} /* Main Program */
!!
? esqlc b115505.sc
<<
ESQL b115505.sc:
>>
<<
>>
? sepcc b115505.c
<<
>>
<<
b115505.c
>>
? seplnk b115505
<<
>>
? run b115505.exe SEPPARAMDB
<<
>>
? delete b115505.c
<<
~
>>
? delete b115505.o
<<
~
>>
? delete b115505.obj
<<
~
>>
? delete b115505.exe
<<
~
>>
? sql -s SEPPARAMDB
<< 

>> 
* select * from b115505_1t \g
<<

+--------+
|c1      |
+--------+
|testing |
|testing |
|resting |
|resting |
|abc     |
|QRS     |
|byebyeAA|
|ingcorp |
+--------+
(8 rows)
>>
* \q
<<
>>
