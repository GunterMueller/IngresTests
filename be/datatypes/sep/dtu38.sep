/*
  Copyright (c) 2008 Ingres Corporation

  Test Name     : dtu38.sep
  Suite         : be!datatypes
  Focus         : Ingres Regression Test
                : Test for bug 118372 - Unicode left and right functions
                : with negative offsets cause a SIGSEGV and a server hang
                :
                :
  Databases     : SEPPARAMDB3 - Requires unicode database
  Tables        : 
  Filled Files  : 
  Copied Files  :
  Output Files  :
  Prerequisites : None
  Run as user   : testenv 
  Summary       : Verifies fix for bug 118372
                :
                :
  Exp. DIFFs    : None
                :
  History       : 9-Aug-2008 (wanfr01) Created.
                : 9-Aug-2008 (sarjo01) Formalized for piccolo.
                : 22-Oct-2008 (wanfr01) Test does not currently run on VMS
*/
.if !(VMS)
? sql -s SEPPARAMDB3
<< 
>> 
* select left(nvarchar('abcde'),2) \g
<<
+------------------------------------------------------+
|col1                                                  |
+------------------------------------------------------+
|ab                                                    |
+------------------------------------------------------+
(1 row)
>>
* select right(nvarchar('abcde'),2) \g
<<
+------------------------------------------------------+
|col1                                                  |
+------------------------------------------------------+
|de                                                    |
+------------------------------------------------------+
(1 row)
>>
* select left(nvarchar('abcde'),0) \g
<<
+------------------------------------------------------+
|col1                                                  |
+------------------------------------------------------+
|                                                      |
+------------------------------------------------------+
(1 row)
>>
* select right(nvarchar('abcde'),0) \g
<<
+------------------------------------------------------+
|col1                                                  |
+------------------------------------------------------+
|                                                      |
+------------------------------------------------------+
(1 row)
>>
* select left(nvarchar('abcde'),-2) \g
<<
+------------------------------------------------------+
|col1                                                  |
+------------------------------------------------------+
|                                                      |
+------------------------------------------------------+
(1 row)
>>
* select right(nvarchar('abcde'),-2) \g
<<
+------------------------------------------------------+
|col1                                                  |
+------------------------------------------------------+
|                                                      |
+------------------------------------------------------+
(1 row)
>>
* \q
<<
>>
.endif
