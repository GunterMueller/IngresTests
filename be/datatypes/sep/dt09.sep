/*
Copyright (c) 2007 Ingres Corporation

	Test Name    : dt09.sep (formerly fga01.sep)
	User Name    : testenv      
	Test ID      : dt09
	Module       : be/datatypes
	Filename     : dt09.sep
	Purpose	     : There existed certain inconsistencies in a way datatypes 
		       were handled in 6.3.  This test is to check whether these
		       inconsistencies are corrected.
	Input Files  : none
	Output Files : none
	Database     : betstdb1 = SEPPARAMDB1
	Tables       : fga01
	Synopsis     : 
		       A) The append statement does not generate an error 
		          message when I am trying to put "8/8/2027" into 
			  text(1).
		       B) The immediately following retrieve statement 
			  says it cannot handle 0 as a month value.
		       C) Unexpected success when I try to raise float to
			  the power of "money":

	History	: Created by Olga Pekelny Feb.28, 1990

                 7/90             Test modified to conform to Test Case/
                                  Portability Standards.
	  30-mar-1999	(yu$pe02) Hard code page size to 4K.
          25-Jun-2004   (vande02) Cleaning up and aligning history comments.
           1-Nov-2006	(vande02) Updated expected E_US0B5B or E_US0B5C messages
				  from invalid syntax with the date data type.
				  Added copyright.
          18-Jan-2007	(vande02) Updated canon now that E_US10D0 includes
				  date/time text.  Header cleanup.
          19-Dec-2008	(wanfr01) New Functionality diff as per kiria01
*/
? quel -s SEPPARAMDB1 
<<
>>
* destroy fga01\g
<<
~
>>
* create fga01 (t=text(1), d = date, m = money, f = f4) with page_size=4096\g
<<
>>
* append fga01 (t = "8/8/2027", d = "6/6/1990", m = 99, f = 1.5)\g
/*
	Here I expect an error message, because I am 
	trying to put "8/8/2027" into text(1)
*/
<<
(1 row)
>>
* retrieve (fga01.all)\g
<<

+------+-------------------------+--------------------+-----------+
|t     |d                        |m                   |f          |
+------+-------------------------+--------------------+-----------+
|8     |06-jun-1990              |              $99.00|      1.500|
+------+-------------------------+--------------------+-----------+
(1 row)
>>
* retrieve (fga01.all) where fga01.d < fga01.t\g
/*
	The following error message tells me I have 0 for a month.
*/
<<
E_US10D0 0 is not a valid month for a date/time column.
    (Thu Jan 18 17:39:05 2007)

>>
<<
E_US10CE '8' is not a valid date/time value.
    (Fri Dec 19 20:15:30 2008)

>>
* retrieve (x = fga01.d ** fga01.m) \g
<<
E_US0B5C line 1, Function '**' is not defined for arguments of type
    'ingresdate' and 'money'. Explicitly convert its arguments to the desired
    type(s).
    (Wed Nov  1 14:44:30 2006)

>>
* retrieve (x = fga01.f ** fga01.m) \g
/*
	Here I would expect an error message similar to the previous
*/
<<
E_US0B5C line 1, Function '**' is not defined for arguments of type
    'float' and 'money'. Explicitly convert its arguments to the desired type(s).
    (20-JUL-1990 09:38:40)

>>
* \q
<<
>>


Ending at: Fri Dec 19 20:15:33 2008
