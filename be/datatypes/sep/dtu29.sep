/*
  Copyright (c) 2008 Ingres Corporation

  Test Name     : dtu29.sep
  Suite         : be!datatypes
  Focus         : Ingres Regression Test
                : Test for bug 116125 - collation sequence will not be
                : inherited for a concatenation result, leading to wrong
                : results.
                :
  Databases     : SEPPARAMDB3 (requires unicode database)
  Tables        : dtu29_t*
  Filled Files  : 
  Copied Files  :
  Output Files  :
  Prerequisites : None
  Run as user   : testenv 
  Summary       : Verifies fix for bug 116125 
                :
                :
  Exp. DIFFs    : None
                :
  History       : 02-Aug-2008 (wanfr01) Created.
                : 04-Aug-2008 (sarjo01) Formalized for piccolo.
                : 22-Oct-2008 (wanfr01) Test does not currently run on VMS
*/
.if !(VMS)
? sql -s SEPPARAMDB3
<< 

>> 
* drop table dtu29_1\g
<<
~
>>
* create table dtu29_1 (a nvarchar(15) not null with -
  default collate unicode_case_insensitive)\g
<<
>>
* insert into dtu29_1 values('lowercase')\g
<<
(1 row)
>>
* SELECT * from dtu29_1 where (a+'A') = 'LOWERCASEA'\g
<<

+------------------------------+
|a                             |
+------------------------------+
|lowercase                     |
+------------------------------+
(1 row)
>>
* SELECT * from dtu29_1 where (a+a) like '%CASE%' \g
<<

+------------------------------+
|a                             |
+------------------------------+
|lowercase                     |
+------------------------------+
(1 row)
>>
* \q
<<
>>
.endif
