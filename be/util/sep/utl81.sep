/*
  Copyright (c) 2008 Ingres Corporation

  Test Name     : utl81.sep
  Suite         : be!util
  Focus         : Ingres Regression Test
                : Test for bug 118949 - copy.in script is generated with 
                : invalid constraint lines resulting in E_US0F0A during
                : recreation of constraints.
                :
  Databases     : SEPPARAMDB
  Tables        : b118949_*
  Filled Files  : 
  Copied Files  :
  Output Files  :
  Prerequisites : None
  Run as user   : testenv 
  Summary       : Verifies fix for bug 118949
                :
                :
  Exp. DIFFs    : None
                :
  History       : 16-Sep-2008   (Kishore)       Created
                : 8-Oct-2008 (wanfr01) Reformatted.
                : 8-Oct-2008 (sarjo01) Formalized for piccolo.
                : 03-Nov-2008 (wanfr01) Databases are not supposed to be 
                ; 	journaled by default
*/
? fill b118949_1t.testenv
!!
!!
? fill copy.in
!!
!!
? fill copy.out
!!
!!
? sql -s SEPPARAMDB
<< 

>> 
* drop table b118949_1t\g
<<
~
>>
* create table b118949_1t (id integer not null with default 0) \g
<<
>>
*  modify b118949_1t to btree unique on id with nonleaffill = 80, leaffill = -
70, fillfactor = 80, extend = 16, page_size = 4096, unique_scope = statement -
\g
<<
(0 rows)
>>
* alter table b118949_1t add constraint b118949_2c primary key(id) with (inde-
x=base table structure) \g
<<
>>
* \q
<<
>>
? copydb SEPPARAMDB b118949_1t
<<
~
>>
? sql -s SEPPARAMDB
<< 

>> 

* \i copy.out
<<
~
>>
* drop b118949_1t \g
<<
>>
* \i copy.in
<<
~
>>
* help constraint b118949_1t \g
<<
Contraints defined for testenv.b118949_1t are:

Constraint Name: b118949_2c
 PRIMARY KEY(id) WITH (INDEX = BASE TABLE STRUCTURE)
>>
* \q
<<
>>
