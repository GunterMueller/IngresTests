/*
  Copyright (c) 2010 Ingres Corporation
    Test ID : geo08.sep
    Module :
    Filename: geo08.sep
    Purpose : To test SRID handling
    Input Files :
    Output Files :
    Database : SEPPARAMDB
    Tables : geo08a, geo08b, geo08c, geo08d, geo08e, geo08f
    Synopsis : Tests the geomcoll data type
    History: 23-MAR-2010 Created by Alex Trofast
             19-AUG-2010 create tables with page size 8192 so alter doesn't fail

*/
>>
? sql SEPPARAMDB +U -S 
<<
>>
* GRANT ALL ON spatial_ref_sys TO PUBLIC\g
<<
>>
* \q
<<
>>
? sql SEPPARAMDB -S 
<<
>>
* CREATE TABLE geo08a (fid INT NOT NULL PRIMARY KEY, shape POINT) WITH PAGE_SIZE=8192\g
<<
>>
* CREATE TABLE geo08b (fid INT NOT NULL PRIMARY KEY, shape POLYGON) WITH PAGE_SIZE=8192\g
<<
>>
* CREATE TABLE geo08c (fid INT NOT NULL PRIMARY KEY, shape LINESTRING) WITH PAGE_SIZE=8192\g
<<
>>
* CREATE TABLE geo08d (fid INT NOT NULL PRIMARY KEY, shape MULTIPOINT) WITH PAGE_SIZE=8192\g
<<
>>
* CREATE TABLE geo08e (fid INT NOT NULL PRIMARY KEY, shape MULTIPOLYGON) WITH PAGE_SIZE=8192\g
<<
>>
* CREATE TABLE geo08f (fid INT NOT NULL PRIMARY KEY, shape MULTILINESTRING) WITH PAGE_SIZE=8192\g
<<
>>
* INSERT INTO geo08a VALUES (1, PointFromText('POINT(1 1)'))\g
<<
>>
* INSERT INTO geo08a VALUES (2, PointFromText('POINT(1 1)', 123))\g
<<
E_QE5423 SRID specified does not match column SRID. Data was not saved.
    (Thu Mar 25 09:12:07 2010)

>>
* INSERT INTO geo08b VALUES (1, PolyFromText('POLYGON((1 1, 2 2, 3 3, 4 4, 1 1))'))\-
g
<<
>>
* INSERT INTO geo08b VALUES (2, PolyFromText('POLYGON((1 1, 2 2, 3 3, 4 4, 1 1))', 1-
23))\g
<<
E_QE5423 SRID specified does not match column SRID. Data was not saved.
    (Thu Mar 25 09:12:33 2010)

>>
* INSERT INTO geo08c VALUES (1, LineFromText('LINESTRING(1 1, 2 2, 3 3, 4 4)'))\g
<<
>>
* INSERT INTO geo08c VALUES (2, LineFromText('LINESTRING(1 1, 2 2, 3 3, 4 4)', 123))-
\g
<<
E_QE5423 SRID specified does not match column SRID. Data was not saved.
    (Thu Mar 25 09:12:37 2010)

>>
* INSERT INTO geo08d VALUES (1, MPointFromText('MULTIPOINT(1 1, 2 2, 3 3)'))\g
<<
>>
* INSERT INTO geo08d VALUES (2, MPointFromText('MULTIPOINT(1 1, 2 2, 3 3)', 123))\g
<<
E_QE5423 SRID specified does not match column SRID. Data was not saved.
    (Thu Mar 25 09:12:40 2010)

>>
* INSERT INTO geo08e VALUES (1, MPolyFromText('MULTIPOLYGON(((0 0, 0 4, 4 4, 4 0, 0 -
0)), ((1 1, 1 2, 2 2, 2 1, 1 1)))'))\g
<<
>>
* INSERT INTO geo08e VALUES (2, MPolyFromText('MULTIPOLYGON(((0 0, 0 4, 4 4, 4 0, 0 -
0)), ((1 1, 1 2, 2 2, 2 1, 1 1)))', 123))\g
<<
E_QE5423 SRID specified does not match column SRID. Data was not saved.
    (Thu Mar 25 09:12:43 2010)

>>
* INSERT INTO geo08f VALUES (1, MLineFromText('MULTILINESTRING((1 1, 2 2, 3 3), (4 4-
, 5 5, 6 6))'))\g
<<
>>
* INSERT INTO geo08f VALUES (2, MLineFromText('MULTILINESTRING((1 1, 2 2, 3 3), (4 4-
, 5 5, 6 6))', 123))\g
<<
E_QE5423 SRID specified does not match column SRID. Data was not saved.
    (Thu Mar 25 09:12:45 2010)

>>
* INSERT INTO spatial_ref_sys (srid, auth_name, auth_srid, srtext) VALUES (123, 'ING-
RES', 123, 'BOGUS')\g
<<
>>
* ALTER TABLE geo08a ALTER COLUMN shape POINT SRID 123\g
<<
>>
* ALTER TABLE geo08b ALTER COLUMN shape POLYGON SRID 123\g
<<
>>
* ALTER TABLE geo08c ALTER COLUMN shape LINESTRING SRID 123\g
<<
>>
* ALTER TABLE geo08d ALTER COLUMN shape MULTIPOINT SRID 123\g
<<
>>
* ALTER TABLE geo08e ALTER COLUMN shape MULTIPOLYGON SRID 123\g
<<
>>
* ALTER TABLE geo08f ALTER COLUMN shape MULTILINESTRING SRID 123\g
<<
>>
* INSERT INTO geo08a VALUES (2, PointFromText('POINT(1 1)', 123))\g
<<
>>
* INSERT INTO geo08b VALUES (2, PolyFromText('POLYGON((1 1, 2 2, 3 3, 4 4, 1 1))', 1-
23))\g
<<
>>
* INSERT INTO geo08c VALUES (2, LineFromText('LINESTRING(1 1, 2 2, 3 3, 4 4)', 123))-
\g
<<
>>
* INSERT INTO geo08d VALUES (2, MPointFromText('MULTIPOINT(1 1, 2 2, 3 3)', 123))\g
<<
>>
* INSERT INTO geo08e VALUES (2, MPolyFromText('MULTIPOLYGON(((0 0, 0 4, 4 4, 4 0, 0 -
0)), ((1 1, 1 2, 2 2, 2 1, 1 1)))', 123))\g
<<
>>
* INSERT INTO geo08f VALUES (2, MLineFromText('MULTILINESTRING((1 1, 2 2, 3 3), (4 4-
, 5 5, 6 6))', 123))\g
<<
>>
* \q
<<
>>


Ending at: Tue May  4 07:25:14 2010
