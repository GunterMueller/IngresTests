/*
  Copyright (c) 2010 Ingres Corporation
    Test ID : geo07.sep
    Module :
    Filename: geo07.sep
    Purpose : To test GEOMCOLL CRUD
    Input Files :
    Output Files :
    Database : SEPPARAMDB
    Tables : geo07a
    Synopsis : Tests the geomcoll data type
    History: 23-MAR-2010 Created by Alex Trofast

*/
>>
? sql SEPPARAMDB +U -S 
<<
>>
* GRANT ALL ON spatial_ref_sys TO PUBLIC\g
<<
>>
* \q
<<
>>
? sql SEPPARAMDB -S 
<<
>>
* CREATE TABLE geo07a (fid INT NOT NULL PRIMARY KEY, shape GEOMETRYCOLLECTION)\g
<<
>>
* INSERT INTO geo07a VALUES (1, GeomCollFromText('GEOMETRYCOLLECTION(POINT(4 6),LINE-
STRING(4 6,7 10))'))\g
<<
>>
* INSERT INTO geo07a VALUES (2, ST_GeomCollFromText('GEOMETRYCOLLECTION(POINT(45 55)-
,POLYGON((1 1, 2 2, 3 3, 1 1)))'))\g
<<
>>
* INSERT INTO geo07a VALUES (3, GeomCollFromText('GEOMETRYCOLLECTION(MULTIPOINT(4 6,-
 5 5),MULTILINESTRING((4 6,7 10), (1 1, 2 2)))'))\g
<<
>>
* SELECT AsText(shape) from geo07a ORDER BY fid\g
<<
col1                             
 GEOMETRYCOLLECTION (POINT (4 6), LINESTRING (4 6, 7 10)) 
 GEOMETRYCOLLECTION (POINT (45 55), POLYGON ((1 1, 2 2, 3 3, 1 1))) 
 GEOMETRYCOLLECTION (MULTIPOINT (4 6, 5 5), MULTILINESTRING ((4 6, 7 10), (1 1, 2 2)-
)) 
>>
* UPDATE geo07a SET shape = GeomCollFromText('GEOMETRYCOLLECTION(POLYGON EMPTY)') WH-
ERE fid = 3\g
<<
>>
* SELECT AsText(shape) from geo07a ORDER BY fid\g
<<
col1                             
 GEOMETRYCOLLECTION (POINT (4 6), LINESTRING (4 6, 7 10)) 
 GEOMETRYCOLLECTION (POINT (45 55), POLYGON ((1 1, 2 2, 3 3, 1 1))) 
 GEOMETRYCOLLECTION EMPTY         
>>
* DELETE FROM geo07a WHERE fid = 3\g
<<
>>
* SELECT AsText(shape) from geo07a ORDER BY fid\g
<<
col1                             
 GEOMETRYCOLLECTION (POINT (4 6), LINESTRING (4 6, 7 10)) 
 GEOMETRYCOLLECTION (POINT (45 55), POLYGON ((1 1, 2 2, 3 3, 1 1))) 
>>
* \q
<<
>>


Ending at: Tue May  4 07:25:09 2010
