/*
  Copyright (c) 2010 Ingres Corporation
    Test ID : geo02.sep
    Module :
    Filename: geo02.sep
    Purpose : To test POLYGON CRUD
    Input Files :
    Output Files :
    Database : SEPPARAMDB
    Tables : geo02a
    Synopsis : Tests the polygon data type
    History: 23-MAR-2010 Created by Alex Trofast
             31-MAY-2010 Add POLYGON Z, ZM test by Frank Warmerdam

*/
>>
? sql SEPPARAMDB +U -S 
<<
>>
* GRANT ALL ON spatial_ref_sys TO PUBLIC\g
<<
>>
* \q
<<
>>
? sql SEPPARAMDB -S 
<<
>>
* CREATE TABLE geo02a (fid INT NOT NULL PRIMARY KEY, shape POLYGON)\g
<<
>>
* INSERT INTO geo02a VALUES (1, PolyFromText('POLYGON((0 0, 0 4, 4 4, 4 0, 0 0))'))\-
g
<<
>>
* INSERT INTO geo02a VALUES (2, ST_PolyFromText('POLYGON((4 4, 4 8, 8 8, 8 4, 4 4))'-
))\g
<<
>>
* INSERT INTO geo02a VALUES (3, PolyFromText('POLYGON EMPTY'))\g
<<
>>
* INSERT INTO geo02a VALUES (4, PolyFromText('POLYGON Z ((2 3 4,0 0 0,2 0 1,2 3 4))'))\g
<<
>>
* INSERT INTO geo02a VALUES (5, PolyFromText('POLYGON ZM ((2 3 4 1,0 0 0 1,2 0 1 1,2 3 4 1))'))\g
<<
>>
* SELECT AsText(shape) from geo02a ORDER BY fid\g
<<
col1                             
 POLYGON ((0 0, 0 4, 4 4, 4 0, 0 0)) 
 POLYGON ((4 4, 4 8, 8 8, 8 4, 4 4)) 
 POLYGON EMPTY                    
 POLYGON Z ((2 3 4, 0 0 0, 2 0 1, 2 3 4))
 POLYGON Z ((2 3 4, 0 0 0, 2 0 1, 2 3 4))
>>
* UPDATE geo02a SET shape = PolyFromText('POLYGON((0 0, 0 8, 8 8, 8 0, 0 0))') WHERE-
 fid = 1\g
<<
>>
* SELECT AsText(shape) from geo02a ORDER BY fid\g
<<
col1                             
 POLYGON ((0 0, 0 8, 8 8, 8 0, 0 0)) 
 POLYGON ((4 4, 4 8, 8 8, 8 4, 4 4)) 
 POLYGON EMPTY                    
 POLYGON Z ((2 3 4, 0 0 0, 2 0 1, 2 3 4))
 POLYGON Z ((2 3 4, 0 0 0, 2 0 1, 2 3 4))
>>
* DELETE FROM geo02a WHERE fid = 2\g
<<
>>
* SELECT AsText(shape) from geo02a ORDER BY fid\g
<<
col1                             
 POLYGON ((0 0, 0 8, 8 8, 8 0, 0 0)) 
 POLYGON EMPTY                    
 POLYGON Z ((2 3 4, 0 0 0, 2 0 1, 2 3 4))
 POLYGON Z ((2 3 4, 0 0 0, 2 0 1, 2 3 4))
>>
* \q
<<
>>


Ending at: Tue May  4 07:24:37 2010
