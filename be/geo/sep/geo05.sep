/*
  Copyright (c) 2010 Ingres Corporation
    Test ID : geo05.sep
    Module :
    Filename: geo05.sep
    Purpose : To test MPOLYGON CRUD
    Input Files :
    Output Files :
    Database : SEPPARAMDB
    Tables : geo05a
    Synopsis : Tests the mpolygon data type
    History: 23-MAR-2010 Created by Alex Trofast

*/
>>
? sql SEPPARAMDB +U -S 
<<
>>
* GRANT ALL ON spatial_ref_sys TO PUBLIC\g
<<
>>
* \q
<<
>>
? sql SEPPARAMDB -S 
<<
>>
* CREATE TABLE geo05a (fid INT NOT NULL PRIMARY KEY, shape MULTIPOLYGON)\g
<<
>>
* INSERT INTO geo05a VALUES (1, MPolyFromText('MULTIPOLYGON(((0 0, 0 4, 4 4, 4 0, 0 -
0)), ((1 1, 1 2, 2 2, 2 1, 1 1)))'))\g
<<
>>
* INSERT INTO geo05a VALUES (2, ST_MPolyFromText('MULTIPOLYGON(((0 0, 0 4, 4 4, 4 0,-
 0 0), (1 1, 1 2, 2 1, 1 1)), ((1 1, 1 2, 2 2, 2 1, 1 1)))'))\g
<<
>>
* INSERT INTO geo05a VALUES (3, MPolyFromText('MULTIPOLYGON EMPTY'))\g
<<
>>
* SELECT AsText(shape) from geo05a ORDER BY fid\g
<<
col1                             
 MULTIPOLYGON (((0 0, 0 4, 4 4, 4 0, 0 0)), ((1 1, 1 2, 2 2, 2 1, 1 1))) 
 MULTIPOLYGON (((0 0, 0 4, 4 4, 4 0, 0 0), (1 1, 1 2, 2 1, 1 1)), ((1 1, 1 2, 2 2, 2-
 1, 1 1))) 
 MULTIPOLYGON EMPTY               
>>
* UPDATE geo05a SET shape = MPolyFromText('MULTIPOLYGON(((0 0, 0 8, 8 8, 8 0, 0 0)),-
 ((0 0, 8 8, 8 0, 0 0)))') WHERE fid = 1\g
<<
>>
* SELECT AsText(shape) from geo05a ORDER BY fid\g
<<
col1                             
 MULTIPOLYGON (((0 0, 0 8, 8 8, 8 0, 0 0)), ((0 0, 8 8, 8 0, 0 0))) 
 MULTIPOLYGON (((0 0, 0 4, 4 4, 4 0, 0 0), (1 1, 1 2, 2 1, 1 1)), ((1 1, 1 2, 2 2, 2-
 1, 1 1))) 
 MULTIPOLYGON EMPTY               
>>
* DELETE FROM geo05a WHERE fid = 2\g
<<
>>
* SELECT AsText(shape) from geo05a ORDER BY fid\g
<<
col1                             
 MULTIPOLYGON (((0 0, 0 8, 8 8, 8 0, 0 0)), ((0 0, 8 8, 8 0, 0 0))) 
 MULTIPOLYGON EMPTY               
>>
* \q
<<
>>


Ending at: Tue May  4 07:24:56 2010
