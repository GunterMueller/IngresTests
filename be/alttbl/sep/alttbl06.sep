/*
	Test Name: alttbl06.sep
	Time: Tue Oct 22 07:32:01 1996
	User Name: testenv
	Terminal type: septerm
 
	Test ID : alttbl06
	Module  : be/alttbl
	Filename: alttbl06.sep
	Purpose : To test that a column of different data types can be appended
		  to a table with one existing column of type long byte, using
		  the 'alter table' command.
	Input Files  : none
	Output Files : none
	Database     : alttbldb
	Tables       : t1
	Synopsis     : Table t1 is created with a long byte column and three
                       rows are then inserted in it. Using 'alter table' command
                       another column is added of a different data type. A
                       combination of selects, inserts, updates and deletes
                       are performed to verify the integrity of the table and
                       the data it contains.

 History: 23-Mar-1999	(kamra01) Modified the page_size to 8K instead of
			vpg_sz. 
          26-Mar-2001	(hanch04) Update test for Ingres 2.6
          22-May-2001	(BOIJA02) new canons for order bys: current canons are
			unordered, so by modify time.
	   4-oct-2001	(devjo01) Add alternate canon for LP64 (64 bit pointer
			in "coupon" placeholder for long data type columns
			effects row widths, etc.)
  	  12-Nov-2001	(rogch01) Correct float precision after fix to bug
			105957.  Reorder alternate canons for generic last.
			Add some of this header.
	  28-May-2004	(shafa01) Replaced all huge canons and added a single
                        canon per transaction. Removed /p from every SQL
			command. Removed all 'help table' commands as it does
                        not prove to be a viable test. This change does not
			require to have any alternate canons for LP64 place
			holders. Removed modify to heap statements as tables
			are by default created with a heap structure. Added
			missing test information in the header section above.
			Also aligned the history records.

*/
? sql -s SEPPARAMDB 
<<
>>
* drop table t1\g
<<
~
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 char(5) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
+--------------------------------+------+
(3 rows)
>>
* insert into t1 values ('jkl','mnopq') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
|jkl                             |mnopq |
+--------------------------------+------+
(4 rows)
>>
* update t1 set col1='JKL',col2='MNOPQ' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
|JKL                             |MNOPQ |
+--------------------------------+------+
(4 rows)
>>
* update t1 set col2='GHIJK' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |GHIJK |
|ghi                             |      |
|JKL                             |MNOPQ |
+--------------------------------+------+
(4 rows)
>>
* update t1 set col2='DEFGH' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |DEFGH |
|def                             |GHIJK |
|ghi                             |      |
|JKL                             |MNOPQ |
+--------------------------------+------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2='MNOPQ' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |DEFGH |
|def                             |GHIJK |
|ghi                             |      |
+--------------------------------+------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2='GHIJK' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |DEFGH |
|ghi                             |      |
+--------------------------------+------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2='DEFGH' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|ghi                             |      |
+--------------------------------+------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 varchar(8) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
+--------------------------------+--------+
(3 rows)
>>
* insert into t1 values ('jkl','mnopq') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
|jkl                             |mnopq   |
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col1='JKL',col2='MNOPQ' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
|JKL                             |MNOPQ   |
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col2='GHIJK' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |GHIJK   |
|ghi                             |        |
|JKL                             |MNOPQ   |
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col2='DEFGH' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |DEFGH   |
|def                             |GHIJK   |
|ghi                             |        |
|JKL                             |MNOPQ   |
+--------------------------------+--------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2='MNOPQ' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |DEFGH   |
|def                             |GHIJK   |
|ghi                             |        |
+--------------------------------+--------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2='GHIJK' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |DEFGH   |
|ghi                             |        |
+--------------------------------+--------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2='DEFGH' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|ghi                             |        |
+--------------------------------+--------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 long varchar \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |                                |
|ghi                             |                                |
+--------------------------------+--------------------------------+
(3 rows)
>>
* insert into t1 values ('jkl','mnopq') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |                                |
|ghi                             |                                |
|jkl                             |mnopq                           |
+--------------------------------+--------------------------------+
(4 rows)
>>
* update t1 set col1='JKL',col2='MNOPQ' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |                                |
|ghi                             |                                |
|JKL                             |MNOPQ                           |
+--------------------------------+--------------------------------+
(4 rows)
>>
* update t1 set col2='GHIJK' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |GHIJK                           |
|ghi                             |                                |
|JKL                             |MNOPQ                           |
+--------------------------------+--------------------------------+
(4 rows)
>>
* update t1 set col2='DEFGH' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |DEFGH                           |
|def                             |GHIJK                           |
|ghi                             |                                |
|JKL                             |MNOPQ                           |
+--------------------------------+--------------------------------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and char(col2)='MNOPQ' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |DEFGH                           |
|def                             |GHIJK                           |
|ghi                             |                                |
+--------------------------------+--------------------------------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and char(col2)='GHIJK' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |DEFGH                           |
|ghi                             |                                |
+--------------------------------+--------------------------------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and char(col2)='DEFGH' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|ghi                             |                                |
+--------------------------------+--------------------------------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 byte(8) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
+--------------------------------+--------+
(3 rows)
>>
* insert into t1 values ('jkl','111111') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
|jkl                             |111111\000\000|
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col1='JKL',col2='222222' where char(col1)='jkl'\g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
|JKL                             |222222\000\000|
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col2='333333' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |333333\000\000|
|ghi                             |        |
|JKL                             |222222\000\000|
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col2='444444' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |444444\000\000|
|def                             |333333\000\000|
|ghi                             |        |
|JKL                             |222222\000\000|
+--------------------------------+--------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2='222222' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |444444\000\000|
|def                             |333333\000\000|
|ghi                             |        |
+--------------------------------+--------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2='333333' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |444444\000\000|
|ghi                             |        |
+--------------------------------+--------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2='444444' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|ghi                             |        |
+--------------------------------+--------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long  byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 byte varying(8) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
+--------------------------------+--------+
(3 rows)
>>
* insert into t1 values ('jkl','111111') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
|jkl                             |111111  |
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col1='JKL',col2='222222' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |        |
|ghi                             |        |
|JKL                             |222222  |
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col2='333333' where char(col1)= 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |        |
|def                             |333333  |
|ghi                             |        |
|JKL                             |222222  |
+--------------------------------+--------+
(4 rows)
>>
* update t1 set col2='444444' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |444444  |
|def                             |333333  |
|ghi                             |        |
|JKL                             |222222  |
+--------------------------------+--------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2='222222' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |444444  |
|def                             |333333  |
|ghi                             |        |
+--------------------------------+--------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2='333333' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|abc                             |444444  |
|ghi                             |        |
+--------------------------------+--------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2='444444' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------+
|col1                            |col2    |
+--------------------------------+--------+
|ghi                             |        |
+--------------------------------+--------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long  byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 long byte \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |                                |
|ghi                             |                                |
+--------------------------------+--------------------------------+
(3 rows)
>>
* insert into t1 values ('jkl','111111') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |                                |
|ghi                             |                                |
|jkl                             |111111                          |
+--------------------------------+--------------------------------+
(4 rows)
>>
* update t1 set col1='JKL',col2='222222' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |                                |
|ghi                             |                                |
|JKL                             |222222                          |
+--------------------------------+--------------------------------+
(4 rows)
>>
* update t1 set col2='333333' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |                                |
|def                             |333333                          |
|ghi                             |                                |
|JKL                             |222222                          |
+--------------------------------+--------------------------------+
(4 rows)
>>
* update t1 set col2='444444' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |444444                          |
|def                             |333333                          |
|ghi                             |                                |
|JKL                             |222222                          |
+--------------------------------+--------------------------------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL'\g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |444444                          |
|def                             |333333                          |
|ghi                             |                                |
+--------------------------------+--------------------------------+
(3 rows)
>>
* delete from t1 where char(col1)='def'\g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|abc                             |444444                          |
|ghi                             |                                |
+--------------------------------+--------------------------------+
(2 rows)
>>
* delete from t1 where char(col1)='abc'\g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), varchar(col2, 20) \g
<<

+--------------------------------+--------------------------------+
|col1                            |col2                            |
+--------------------------------+--------------------------------+
|ghi                             |                                |
+--------------------------------+--------------------------------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long  byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 integer1 \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
+--------------------------------+------+
(3 rows)
>>
* insert into t1 values ('jkl',111) \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
|jkl                             |   111|
+--------------------------------+------+
(4 rows)
>>
* update t1 set col1='JKL',col2=122 where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
|JKL                             |   122|
+--------------------------------+------+
(4 rows)
>>
* update t1 set col2=30 where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |    30|
|ghi                             |      |
|JKL                             |   122|
+--------------------------------+------+
(4 rows)
>>
* update t1 set col2=40 where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |    40|
|def                             |    30|
|ghi                             |      |
|JKL                             |   122|
+--------------------------------+------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2=122 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |    40|
|def                             |    30|
|ghi                             |      |
+--------------------------------+------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2=30 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |    40|
|ghi                             |      |
+--------------------------------+------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2=40 \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|ghi                             |      |
+--------------------------------+------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte ) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 smallint \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
+--------------------------------+------+
(3 rows)
>>
* insert into t1 values ('jkl',11111) \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
|jkl                             | 11111|
+--------------------------------+------+
(4 rows)
>>
* update t1 set col1='JKL',col2=22222 where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             |      |
|ghi                             |      |
|JKL                             | 22222|
+--------------------------------+------+
(4 rows)
>>
* update t1 set col2=32767 where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |      |
|def                             | 32767|
|ghi                             |      |
|JKL                             | 22222|
+--------------------------------+------+
(4 rows)
>>
* update t1 set col2=-32768 where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |-32768|
|def                             | 32767|
|ghi                             |      |
|JKL                             | 22222|
+--------------------------------+------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2=22222 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |-32768|
|def                             | 32767|
|ghi                             |      |
+--------------------------------+------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2=32767 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|abc                             |-32768|
|ghi                             |      |
+--------------------------------+------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2=-32768 \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+------+
|col1                            |col2  |
+--------------------------------+------+
|ghi                             |      |
+--------------------------------+------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 integer \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |             |
|def                             |             |
|ghi                             |             |
+--------------------------------+-------------+
(3 rows)
>>
* insert into t1 values ('jkl',111111) \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |             |
|def                             |             |
|ghi                             |             |
|jkl                             |       111111|
+--------------------------------+-------------+
(4 rows)
>>
* update t1 set col1='JKL',col2=222222 where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |             |
|def                             |             |
|ghi                             |             |
|JKL                             |       222222|
+--------------------------------+-------------+
(4 rows)
>>
* update t1 set col2=333333 where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |             |
|def                             |       333333|
|ghi                             |             |
|JKL                             |       222222|
+--------------------------------+-------------+
(4 rows)
>>
* update t1 set col2=444444 where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |       444444|
|def                             |       333333|
|ghi                             |             |
|JKL                             |       222222|
+--------------------------------+-------------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2=222222 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |       444444|
|def                             |       333333|
|ghi                             |             |
+--------------------------------+-------------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2=333333 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|abc                             |       444444|
|ghi                             |             |
+--------------------------------+-------------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2=444444 \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------+
|col1                            |col2         |
+--------------------------------+-------------+
|ghi                             |             |
+--------------------------------+-------------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 decimal(8,3) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |          |
|def                             |          |
|ghi                             |          |
+--------------------------------+----------+
(3 rows)
>>
* insert into t1 values ('jkl',111.111) \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |          |
|def                             |          |
|ghi                             |          |
|jkl                             |   111.111|
+--------------------------------+----------+
(4 rows)
>>
* update t1 set col1='JKL',col2=222.222 where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |          |
|def                             |          |
|ghi                             |          |
|JKL                             |   222.222|
+--------------------------------+----------+
(4 rows)
>>
* update t1 set col2=333.333 where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |          |
|def                             |   333.333|
|ghi                             |          |
|JKL                             |   222.222|
+--------------------------------+----------+
(4 rows)
>>
* update t1 set col2=444.444 where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |   444.444|
|def                             |   333.333|
|ghi                             |          |
|JKL                             |   222.222|
+--------------------------------+----------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2=222.222 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |   444.444|
|def                             |   333.333|
|ghi                             |          |
+--------------------------------+----------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2=333.333 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|abc                             |   444.444|
|ghi                             |          |
+--------------------------------+----------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2=444.444 \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+----------+
|col1                            |col2      |
+--------------------------------+----------+
|ghi                             |          |
+--------------------------------+----------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 float(23) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |           |
|ghi                             |           |
+--------------------------------+-----------+
(3 rows)
>>
* insert into t1 values ('jkl',1.11111e2) \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |           |
|ghi                             |           |
|jkl                             |    111.111|
+--------------------------------+-----------+
(4 rows)
>>
* update t1 set col1='JKL',col2=2.22222e2 where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |           |
|ghi                             |           |
|JKL                             |    222.222|
+--------------------------------+-----------+
(4 rows)
>>
* update t1 set col2=3.33333e2 where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |    333.333|
|ghi                             |           |
|JKL                             |    222.222|
+--------------------------------+-----------+
(4 rows)
>>
* update t1 set col2=4.44444e2 where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |    444.444|
|def                             |    333.333|
|ghi                             |           |
|JKL                             |    222.222|
+--------------------------------+-----------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2=float4(2.22222e2) \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |    444.444|
|def                             |    333.333|
|ghi                             |           |
+--------------------------------+-----------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2=float4(3.33333e2) \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |    444.444|
|ghi                             |           |
+--------------------------------+-----------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2=float4(4.44444e2)\g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|ghi                             |           |
+--------------------------------+-----------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 float(24) \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |           |
|ghi                             |           |
+--------------------------------+-----------+
(3 rows)
>>
* insert into t1 values ('jkl',11111.111) \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |           |
|ghi                             |           |
|jkl                             |  11111.111|
+--------------------------------+-----------+
(4 rows)
>>
* update t1 set col1='JKL',col2=22222.222 where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |           |
|ghi                             |           |
|JKL                             |  22222.222|
+--------------------------------+-----------+
(4 rows)
>>
* update t1 set col2=33333.333 where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |           |
|def                             |  33333.333|
|ghi                             |           |
|JKL                             |  22222.222|
+--------------------------------+-----------+
(4 rows)
>>
* update t1 set col2=44444.444 where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |  44444.444|
|def                             |  33333.333|
|ghi                             |           |
|JKL                             |  22222.222|
+--------------------------------+-----------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2=22222.222 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |  44444.444|
|def                             |  33333.333|
|ghi                             |           |
+--------------------------------+-----------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2=33333.333 \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|abc                             |  44444.444|
|ghi                             |           |
+--------------------------------+-----------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2=44444.444 \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-----------+
|col1                            |col2       |
+--------------------------------+-----------+
|ghi                             |           |
+--------------------------------+-----------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 date \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |                         |
|def                             |                         |
|ghi                             |                         |
+--------------------------------+-------------------------+
(3 rows)
>>
* insert into t1 values ('jkl','111111') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |                         |
|def                             |                         |
|ghi                             |                         |
|jkl                             |11-nov-1911              |
+--------------------------------+-------------------------+
(4 rows)
>>
* update t1 set col1='JKL',col2='122222' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |                         |
|def                             |                         |
|ghi                             |                         |
|JKL                             |22-dec-1922              |
+--------------------------------+-------------------------+
(4 rows)
>>
* update t1 set col2='122333' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |                         |
|def                             |23-dec-1933              |
|ghi                             |                         |
|JKL                             |22-dec-1922              |
+--------------------------------+-------------------------+
(4 rows)
>>
* update t1 set col2='122444' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |24-dec-1944              |
|def                             |23-dec-1933              |
|ghi                             |                         |
|JKL                             |22-dec-1922              |
+--------------------------------+-------------------------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2='122222' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |24-dec-1944              |
|def                             |23-dec-1933              |
|ghi                             |                         |
+--------------------------------+-------------------------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2='122333' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|abc                             |24-dec-1944              |
|ghi                             |                         |
+--------------------------------+-------------------------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2='122444' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+-------------------------+
|col1                            |col2                     |
+--------------------------------+-------------------------+
|ghi                             |                         |
+--------------------------------+-------------------------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* create table t1 (col1 long byte) with page_size = 8192 \g
<<
>>
* insert into t1 values ('abc') \g
<<
(1 row)
>>
* insert into t1 values ('def') \g
<<
(1 row)
>>
* insert into t1 values ('ghi') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)) \g
<<

+--------------------------------+
|col1                            |
+--------------------------------+
|abc                             |
|def                             |
|ghi                             |
+--------------------------------+
(3 rows)
>>
* alter table t1 add col2 money \g
<<
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |                    |
|def                             |                    |
|ghi                             |                    |
+--------------------------------+--------------------+
(3 rows)
>>
* insert into t1 values ('jkl','$1111.11') \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |                    |
|def                             |                    |
|ghi                             |                    |
|jkl                             |            $1111.11|
+--------------------------------+--------------------+
(4 rows)
>>
* update t1 set col1='JKL',col2='$222222' where char(col1)='jkl' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |                    |
|def                             |                    |
|ghi                             |                    |
|JKL                             |          $222222.00|
+--------------------------------+--------------------+
(4 rows)
>>
* update t1 set col2='$-3333.33' where char(col1) = 'def' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |                    |
|def                             |           $-3333.33|
|ghi                             |                    |
|JKL                             |          $222222.00|
+--------------------------------+--------------------+
(4 rows)
>>
* update t1 set col2='$44444.4' where char(col1) = 'abc' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |           $44444.40|
|def                             |           $-3333.33|
|ghi                             |                    |
|JKL                             |          $222222.00|
+--------------------------------+--------------------+
(4 rows)
>>
* delete from t1 where char(col1)='JKL' and col2='$222222' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |           $44444.40|
|def                             |           $-3333.33|
|ghi                             |                    |
+--------------------------------+--------------------+
(3 rows)
>>
* delete from t1 where char(col1)='def' and col2='$-3333.33' \g
<<
(1 row)
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|abc                             |           $44444.40|
|ghi                             |                    |
+--------------------------------+--------------------+
(2 rows)
>>
* delete from t1 where char(col1)='abc' and col2='$44444.4' \g
<<
(1 row)
>>
* commit \g
<<
>>
* select * from t1 order by lowercase(varchar(col1, 20)), col2 \g
<<

+--------------------------------+--------------------+
|col1                            |col2                |
+--------------------------------+--------------------+
|ghi                             |                    |
+--------------------------------+--------------------+
(1 row)
>>
* drop table t1 \g
<<
>>
* commit \g
<<
>>
* \q
<<
>>


Ending at: Fri May 28 14:33:18 2004
