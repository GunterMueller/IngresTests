/*
        Copyright (c) 2009 Ingres Corporation

	Test Name: fld12.sep
	Time: Tue Dec 10 15:37:18 1996
	User Name: testenv
	Terminal type: septerm
 
	Test ID : (TBD)
	Module  : 
	Filename: fld12.sep
	Purpose	: To stress test fastload with maximum row width and 
		  table name with maximum characters.
	Input Files  : setup.sql
	Output Files :
	Database     : SEPPARAMDB
	Tables       : tdata, ttest, aa123456789012345678901234567890
	Synopsis     :
	Assertion    : 1. If a table is wild table (row width 2008 bytes),
			you could load data into the table successfully
			by using 'fastload'.

 History: 10-Dec-1996	(panph01) Created
          24-Mar-1997	(seran01) Changed canon for help table command to 
                                  reflect OI 2.0 changes
          10-Jun-1997	(wanya01) add NT canon
	  28-Jul-1998   (chegu01) added "delete test.dat*" command for cleanup.
          07-Jan-1999   (hanch04) Replace table version with TBL_VER
	  23-Mar-1999   (vande02) Hard-coded VPG_SZ to 2K and changed 'sql -s
                                  SEPPARAMDB' canon to be empty, therfore, if
                                  the test db does not exist, you will catch
                                  the msg. "TM could not connect to db." and
				  removed TBL_VER (grammar.lex masks table vers
          30-Apr-2003	(sinra04) Corrected "delete test.dat*" command to 
                                  "delete test.dat" so that file does gets
                                  deleted from output directory.
          24-Jun-2004   (vande02) Updating canons with new text for expected
                       		  warning message as of Ingres r3.  Aligned
				  history comments.
           5-Sep-2008	(vande02) Added new main canons when fastload infor
                                  is displayed in a certain order from MAIN
                                  versus the order from II 9.2.
          11-Jun-2009   (sarjo01) Rewrote test for Long Name compat. 
*/
? fill setup.sql 
!!
create table tdata ( col1 integer, col2 varchar(50)) with page_size=2048; 
\g
create table ttest as select * from tdata; 
\g
create table aa123456789012345678901234567890 as select * from tdata; 
\g
insert into tdata values (3, 'dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa');
\g
insert into tdata values (5, 'icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk');
\g
insert into tdata select * from tdata;
\g
insert into tdata select * from tdata;
\g
copy tdata() into 'test.dat'; 
\g

!!
? sql -s SEPPARAMDB 
<<

>>
* drop tdata, ttest, aa123456789012345678901234567890; \g 
<<
~
>>
* \i setup.sql 
<<
(0 rows)
(0 rows)
(1 row)
(1 row)
(2 rows)
(4 rows)
(8 rows)
>>
* \q 
<<
~
>>
? fastload SEPPARAMDB -file=test.dat -table=ttest 
<<

WARNING: Cannot determine record size of input file:
fastload expects this file to be in binary format and contain
records of 58 bytes in length.  Fastload will load a record from
each contiguous 58 bytes of the file; a bad file format
will result in corrupted data being loaded into the table.

Begin load...
Load finished
Row size   : 58
Rows loaded: 8
Total bytes: 464
>>
? fastload SEPPARAMDB -file=test.dat -table=aa123456789012345678901234567890 
<<

WARNING: Cannot determine record size of input file:
fastload expects this file to be in binary format and contain
records of 58 bytes in length.  Fastload will load a record from
each contiguous 58 bytes of the file; a bad file format
will result in corrupted data being loaded into the table.

Begin load...
Load finished
Row size   : 58
Rows loaded: 8
Total bytes: 464
>>
? sql -s SEPPARAMDB 
<<
~
>>
* select * from tdata order by 1,2 \g
<<

+-------------+--------------------------------------------------+
|col1         |col2                                              |
+-------------+--------------------------------------------------+
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
+-------------+--------------------------------------------------+
(8 rows)
>>
* select * from ttest order by 1,2 \g
<<

+-------------+--------------------------------------------------+
|col1         |col2                                              |
+-------------+--------------------------------------------------+
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
+-------------+--------------------------------------------------+
(8 rows)
>>
* select * from aa123456789012345678901234567890 order by 1,2 \g
<<

+-------------+--------------------------------------------------+
|col1         |col2                                              |
+-------------+--------------------------------------------------+
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            3|dklfjadifoicxovjsdklgjagiajgklajdiddsafljidfa     |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
|            5|icisoajfeklviae,z,ifjdklafmaidjfewlaidzjvdk       |
+-------------+--------------------------------------------------+
(8 rows)
>>
* \q
<<
~
>>
? delete test.dat 
<<
~
>>
