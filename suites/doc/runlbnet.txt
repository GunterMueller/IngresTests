Copyright (c) 2004 Ingres Corporation


DOCUMENTATION TO RUN THE LOCAL NET TESTS (UNIX/WINDOWS)

	Created:       03-nov-1992	(judi) 
	Last Edited:   10-mar-1994	(sandhya)
					Changed the reference of section B to
					section C if the testing machine uses
					only one prototcol.  Changed the syntax
					for the floating flag which is differen
					for sep 3.3.
			08-jun-2000	(wu$ca01)
					Added the netutil section.
			12-Oct-2004	(legru01) Remove irrelevant information
			                for OpenSource Acceptance Test package.

        This document describes:

         A.   The environment variables used by this script.
         B.   Setting up INGRES/NET.
         C.   The execution process.
         D.   Additional info table.
         E.   Monitor progress of lbnet test.

 A.  ENVIRONMENT VARIABLES:

        ING_TST         This variable points to the top of your testing area
                        structure.  This variable must be set in order to
                        execute this script.  This variable should be set in
                        your environment setup file.

        TST_ROOT_OUTPUT This variable has been set in the environment setup
			file. This script will use this variable to point to
			the location of the test output files generated by
			this script. Your test output will be directed to:

			UNIX: $TST_ROOT_OUTPUT/net/lback.
			WINDOWS: %TST_ROOT_OUTPUT%\net\lback

        TST_CFG         This variable points to the location of the .cfg files.
        
			UNIX: $ING_TST/suites/acceptst
			WINDOWS: %ING_TST%\suites\acceptst

	TST_DATA	This variable has been set in the environment setup
			file. This variable points to the location of the .dat
			files used by the sep tests.
			
			UNIX: $ING_TST/gcf/gcc/data.
			WINDOWS: %ING_TST%\gcf\gcc\data

 B.  SETTING UP INGRES/NET WITH NETUTIL:

	The Net Management Utility is used to define the connection and
	authorization data needed by the Communications server to access
	remote installation. The virtual node named 'lback' for looping
	back to server is required to run this suite.

	If you have already successfully executed the following script
	as 'testenv':
     
		UNIX:	 % sh $TST_SHELL/netsetup.sh
		WINDOWS: > %TST_SHELL%\netsetup.bat

	you can proceed with the step 'Initialize the databases'. If not,
	refer to file ING_TST/suites/doc/netutil.txt to setup the required
	virtual node.

 C.  EXECUTION PROCESS:

	1. Initialize the databases.

	    The script can be executed in two ways, a)in its entirety, or
	    b)by facility.

	    a) To initialize ALL databases:

		UNIX:	 % sh $TST_SHELL/runlbnet.sh init all
		WINDOWS: > %TST_SHELL%\runlbnet.bat init all

	    b) To initialize selected databases, choose the modules
	       shown between the pipes:

		UNIX:	 % sh $TST_SHELL/runlbnet.sh init |gaa|gba|gca|
		WINDOWS: > %TST_SHELL%\runlbnet.bat init |gaa|gba|gca|

           The following databases are created, and the resulting output 
	   of the initialization can be found in TST_OUTPUT/netinit.out.

	    gaadb
	    gbadb
	    gcadb

	2.  Execute the script.

	    The script can be executed in two ways, a)in its entirety, or
	    b)by facility.

	    a)  To execute the script in its entirety:

		UNIX:	 % sh $TST_SHELL/runlbnet.sh lbnet all
		WINDOWS: > %TST_SHELL%\runlbnet.bat lbnet all

	    b)  To run selected test modules, choose the modules shown
	        between the pipes:

		UNIX:	 % sh $TST_SHELL/runlbnet.sh lbnet |gaa|gba|gca|
		WINDOWS: > %TST_SHELL%\runlbnet.bat lbnet |gaa|gba|gca

 D.  ADDITIONAL DOCUMENTATION BY FACILITY:

FACILITY  SETUP    DATABASE     DATABASE       ($TST_CFG)    ($TST_ROOT_OUTPUT)
NAME      SCRIPTS  VARIABLE     NAME           LIST FILES        OUTPUT FILES
-------------------------------------------------------------------------------
gaa   |  none    SEPPARAM_NODE  lback::gaadb    gaa.lis    gaaunix.rpt, gaa.out
-------------------------------------------------------------------------------
gba   |  none    SEPPARAM_NODE  lback::gbadb    gba.lis    gbaunix.rpt, gba.out
-------------------------------------------------------------------------------
gca   |  none    SEPPARAM_NODE  lback::gcadb    gca.lis    gcaunix.rpt, gca.out
-------------------------------------------------------------------------------

 E.  MONITOR PROGRESS OF LBNET TEST:

      Open 3 windows to view the performance of the test:
      
	1. To execute the commands to run the test suite
      
	2. Watch the errlog.log file
           (located in II_SYSTEM/ingres/files)
                  
      		UNIX/WINDOWS: 
      		tail -f errlog.log
                  
       	3. To monitor the test progress, go to 
      	   (located in TST_OUTPUT/net/lback/suitename)
      	
      		UNIX/WINDOWS:
            	tail -f [any output file named above in section D.]
