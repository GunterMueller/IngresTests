/*
	Test Name: pza05qc.sep
	Time: 28-AUG-1991 20:32:07
	User Name: testenv
	Terminal type: septerm
 
	Test ID : pza05qc
	Module  : 3gl
	Filename: pza05qc.sep
	Purpose	: To test basic operations using a form in the query mode.
	Input Files  :
	Output Files :	apxc.qry, empb.dat, deptb.dat, personnb,for, apxc.qc
	Database     :	SEPPARAMDB 
	Tables       :	dept, employee, toberesolved
	Synopsis     :	This application tests basic ingres operations--clear
			field, validate, printscreen, submenu, inquire_equel, 
			next, message, putform, getform, retrieve--using an 
			ingres form in query mode.

	History: 28-AUG-1991	Created	Author: saundra
		 01-JUL-1992  	Modified (jpark)
			Modified filenames to conform to DOS specs of
			8 character filenames and 3 character extensions.
			Also, replaced hard-code database names to 
			SEPPARAMS.
		 18-AUG-1992	Modified (bobs)
			Changed some fill file names to prevent file name
			conflicts when running on MS-DOS.  Changed type of
			"eidno" from int to long and changed "%d" (in sprintf
			function) to "%ld" so test would run on MS-DOS.
                 18-FEB-1993    Modified (bobs)
		        Added "int" return type to main (apxa.qc) and added
                        "exit(0)" to end of main for compatibility with
                        Tools for Windows.
		22-FEB-1993	Modified (jpark)
			Combined VMS and UNIX tests with .if.else command.
		        NOTE:  SEPPARAM_SYSTEM must be set to the value
			       returned by a "uname" command.  (In VMS, 
			       the value is set to "VMS")
		25-OCT-1993	Modified (alices)
			Added delete statements at the end of the test.
			Replaced .if SEPPARAM_SYSTEM = "VMS" to .if (VMS)
			Replaced SEPPARAMPERSONNE with SEPPARAMDB.
		26-OCT-1993	Modified (alices)
		        Took out "~" from the empty canon after sepcc for VMS.	
			Took out personnel as for the name for SEPPARAMDB.
 		20-Jan-1995	(qiuji01)  Changed canon for copyright.
        	28-Mar-1995	(ciodi01)  Replaced deleter commands with delobj.
                01-Apr-1997     (chiel02)  Modified for Windows NT and added an alte-
                                 rnate canon each for the sepcc commands.
 		07-Apr-1998	(uptad01) Added alternate canon for COPYFORM as it
                                 diffs on leading and trailing white spaces.
		22-Dec-1998     (ngutr03) Removed "# ifdef" in apxc.qc for VMS 
                                 
                19-Aug-1999     (hweho01) Changed the data type of empform 
                                          from int into long in apxc.qc  
                                          file. The change has been  
                                          ifdef'ed with "_AIX && __64BIT__", 
                                          so there is no impact on other
                                          platforms. 
		12-sep-2002	(devjo01) b108694.  Amend previous fix to
					  be portable to all platforms.
					  Actual problem was that "empform"
					  should have been declared as
					  "int *", not "int".  This is
					  compatable with the other SEP
					  tests, and what ADDFORM expects.
          30-Jan-2006	(boija02) Updated copyright info for Ingres Corp.

*/
? delete apxc.c 
<<
~
>>
? delete apxc.exe 
<<
~
>>
? delete apxc.o 
<<
~
>>
? delete apxc.obj 
<<
~
>>
? delete empform 
<<
~
>>
? delete empform.o 
<<
~
>>
? delete empform.obj 
<<
~
>>
? delete forms.a 
<<
~
>>
? delete forms.olb 
<<
~
>>
? delete query.log 
<<
~
>>
? delobj SEPPARAMDB -form personfrm empform 
<<
~
>>
? fill apxc.qry 
!!
create dept (name=c12, totsales=money, employees=i2)
create employee (name=c20, age=i1, idno=i4, hired=date, dept=c10, salary=money)
copy employee (name=c0tab, age=c0tab, idno=c0tab, hired=c0tab, dept=c0tab,
	salary=c0nl) from 
		"empb.dat"
copy dept (name=c0tab, totsales=c0tab, employees=c0nl) from
	        "deptb.dat"
range of d is dept
range of e is employee
replace d (employees=count(e.dept by e.dept)) where e.dept=d.name
replace d (employees=0) where d.name="booze"\p\g
!!
? fill empb.dat 
!!
Susan Abraham	31	012345	01-jan-78	toys	31456
Richard Alanis	26	987654	16-jun-85	toys	26453
Diane Alter	29	135790	19-aug-84	shoes	33548
Eric Anderson	30	864209	21-sep-82	toys	28932
David Andrew	59	024681	19-dec-68	garden	12345
Robert Andrews	62	975318	14-may-53	toys	44957
Joan Apodaca	27	036925	14-jul-81	linen	23941
Ed Archibald	59	741852	01-dec-41	food	56841
Anita Arellano	43	258147	12-oct-73	linen	23845
Carrie Austin	71	963074	14-nov-18	toys	45923
Bruce Badash	21	147036	23-jun-66	linen	12983
Aiden Baker	52	852963	29-feb-60	toys	33782
Ron Ballard	59	048261	15-apr-83	food	69812
Barbara Banks	18	739516	12-feb-85	food	13948
Greg Batti	38	261593	19-dec-77	toys	58749
Joan Baulisch	61	840739	07-dec-41	toys	28012
Mike Berrow	36	159370	12-oct-71	linen	41123
Mike Besack	48	628407	14-nov-65	shoes	45612
Robert Bingham	37	370482	25-dec-75	garden	21502
Nic Birtles	44	951628	01-apr-71	garden	22087
Brian Bishop	22	051627	01-jun-81	shoes	28715
Gordon Bishop	33	948372	12-dec-72	tools	33971
Lylace Blake	25	162738	11-nov-79	shoes	14023
Robert Bley	35	509483	10-oct-82	toys	18532
John Bowdle	39	273849	09-sep-76	toys	28333
Ari Bowes	43	615094	08-aug-77	food	29761
Suzie Bowman	36	384905	07-jul-80	food	31598
Mark Boyd	58	726150	06-jun-66	shoes	35490
Lori Bragg	21	490516	05-may-85	toys	23981
Terry Braun	30	837261	04-apr-79	toys	33018
Dave Brower	28	061728	03-mar-82	linen	29814
Doreen Bueno-V	28	549382	02-feb-83	linen	28750
Brad Bulger	30	172839	01-jan-81	garden	31602
Jim Bunte	25	605493	01-dec-78	food	22714
Gary Burchett	46	283945	02-nov-69	shoes	65012
Cormac Burke	29	176054	03-oct-78	garden	12104
Paul Butterwort	39	394506	04-sep-71	garden	67098
John Calandrelo	32	821760	05-aug-86	toys	25413
Fred Carter	59	450671	06-jul-71	toys	13845
Kitty Chan	29	938217	07-jun-83	toys	21982
!!
? fill deptb.dat 
!!
shoes	$45893.00	0
toys	$89364.00	0
food	$73591.00	0
garden	$76123.00	0
linen	$33578.00	0
tools	$65728.00	0
booze	$89928.98	0
!!
? quel -s SEPPARAMDB 
<<
~
>>
* destroy dept, employee, toberesolved\g
<<
~
>>
* \i apxc.qry 
<<
 create dept (name=c12, totsales=money, employees=i2)
create employee (name=c20, age=i1, idno=i4, hired=date, dept=c10, salary=money)
copy employee (name=c0tab, age=c0tab, idno=c0tab, hired=c0tab, dept=c0tab,
	salary=c0nl) from 
		"empb.dat"
copy dept (name=c0tab, totsales=c0tab, employees=c0nl) from
	        "deptb.dat"
range of d is dept
range of e is employee
replace d (employees=count(e.dept by e.dept)) where e.dept=d.name
replace d (employees=0) where d.name="booze"
(40 rows)
(7 rows)
(6 rows)
(1 row)
>>
* \q 
<<
~
>>
? fill personnb.for 
!!
COPYFORM:	6.0	18-mar-1988
FORM:	empform		
	80	11	0	0	2	4	2	6	0	0	0	0	0	0	0	6
FIELD:
	0	name	32	20	0	20	1	26	5	0	20	0	6	name:	0	0	0	0	0	0	0		c20			0	0
	1	idno	30	4	0	13	1	19	5	45	13	0	6	idno:	0	0	0	0	0	0	0		-f13			0	1
	-1	age	30	1	0	6	1	11	5	30	6	0	5	age:	0	0	0	0	0	0	0		-f6			0	2
	-1	hired	3	12	0	25	1	32	7	0	25	0	7	hired:	0	0	0	0	0	0	0		c25			0	3
	-1	dept	32	10	0	10	1	16	7	36	10	0	6	dept:	0	0	0	0	0	0	0		c10			0	4
	-1	salary	5	8	0	19	1	27	9	0	19	0	8	salary:	0	0	0	0	0	0	0		-"$---------------.nn"			-
0	5
TRIM:
	0	3	TABLE IS employee	0	0	0	0
	18	1	Query Target Name isemployee	0	0	0	0
!!
? copyform -i -r SEPPARAMDB personnb.for 
<<
INGRES COPYFORM Copyright (c) 1984, 1991 Ingres Corporation
Copied form 'empform' to database.
Encoding forms into database . . .
>>
<< IF (NT_GENERIC) 
INGRES COPYFORM Copyright (c) 1984, 1997 Ingres Corporation
>>
? compform SEPPARAMDB empform empform 
<<
INGRES COMPFORM Copyright (c) 1986, 1991 Ingres Corporation
Writing compiled version of form "empform" to file "empform" . . .
Compiled version of form "empform" successfully written to file "empform".
>>
? sepcc empform 
<<
~
>>
<<
empform.c
>>
? seplib forms empform 
<<
~
>>
.if (VMS) 
? fill apxc.qc 
!!
/*
** Procedure: MAIN
** Purpose:   Entry point into Employee Query application.
*/

##int main(argc,argv)

int argc;

##      char*   argv[];

##{
/* # ifdef */
##	globalref int empform;		/* Compiled form */
	char	where_clause[101];	/* For WHERE clause qualification */

        if (argc < 2)
                {
                printf("Usage: %s <database name>\n",argv[0]);
                exit(1);
                }

	/*
	** Initialize global WHERE clause qualification buffer to
	** be an INGRES default qualification that is always true
	*/
	strcpy (where_clause, "1=1");
##	FORMS
##	MESSAGE "Accessing Employee Query Application . . ."
##	INGRES argv[1]

##	RANGE OF e IS employee

##	ADDFORM empform

##	DISPLAY #empform QUERY
##	INITIALIZE

##	ACTIVATE MENUITEM "Reset"
##	{
##	    CLEAR FIELD ALL
##	}

##	ACTIVATE MENUITEM "Query"
##	{
	    /* Verify validity of data */
##	    VALIDATE
	    Build_Query(where_clause);
	    Exec_Query(where_clause);
##	}

##	ACTIVATE MENUITEM "LastQuery"
##	{
	    Exec_Query(where_clause);
##	}

##	ACTIVATE MENUITEM "End", FRSKEY3
##	{
##	    BREAKDISPLAY
##	}
##	FINALIZE

##	CLEAR SCREEN
##	ENDFORMS
##	EXIT
	exit(0);

##}	/* main */

/*
** Procedure:	Build_Query
** Purpose:	Build an INGRES query from the values in the
**		"name" and "idno" fields in "empform."
** Parameters: 	where_clause
**		    -	Pointer to array for building WHERE clause.
*/

Build_Query(where_clause)
char 	*where_clause;
##{
##	char	ename[21];		/* Employee name */
##	int	eidno;			/* Employee id */
##	int	name_op, id_op;		/* Query operators */
/* Query operator table that maps integer values to string query operators */
	static char	*opertab[] = { "=", "!=", "<", ">", "<=", ">=" };

##	GETFORM empform
##	    (ename = name, name_op = GETOPER(name),
##	     eidno = idno, id_op = GETOPER(idno))

	/* Fill in the where clause */
	if (name_op == 0 && id_op == 0)
	{
	    strcpy (where_clause, "1=1");
	}
	else 
	{
	    if (name_op != 0 && id_op != 0)
	    {
		/* Query on both fields */
		sprintf (where_clause, "e.name %s \"%s\" and e.idno %s %d", 
		    opertab[name_op -1], ename, opertab[id_op -1], eidno);
	    }
	    else if (name_op != 0)
	    {
		/* Query on the "name" field */
		sprintf (where_clause, "e.name %s \"%s\"",
		    opertab[name_op -1], ename);
	    }
	    else
	    {
		/* Query on the "idno" field */
		sprintf (where_clause, "e.idno %s %d", 
		    opertab[id_op -1], eidno);
	    }
	}
##}

/*
** Procedure:	Exec_Query
** Purpose:	Given a query buffer defining a WHERE clause, issue
**		a RETRIEVE to allow the run-time user to browse the
**		employee found with the given qualification.
** Parameters:	where_clause	
**			    -	Contains WHERE clause qualification.
*/

##Exec_Query(where_clause)
##	char	*where_clause;
##{
	/* Employee data */
##	char	ename[21];
##	short	eage;
##	int	eidno;
##	char	ehired[26];
##	char	edept[11];
##	float	esalary;
##	int	rows;		/* Were rows found? */

##	RETRIEVE (ename = e.name, eage = e.age, eidno = e.idno,
##	    ehired = e.hired, edept = e.dept, esalary = e.salary)
##	    WHERE where_clause
##	{
##	    /* Put values on to form and display them */
##	    PUTFORM empform
##		(name = ename, age = eage, idno = eidno, hired = ehired,
##		dept = edept, salary = esalary)
##	    REDISPLAY

##	    SUBMENU
##	    ACTIVATE MENUITEM "Next", FRSKEY4
##	    {
		/*
		** Do nothing, and continue with the RETRIEVE loop.  The
		** last one will drop out.
		*/
##	    }
##	    ACTIVATE MENUITEM "Save", FRSKEY8
##	    {
		/* Save screen dadta in log file */
##		PRINTSCREEN (file = "query.log")
		/* Drop through to next employee */
##	    }	
##	    ACTIVATE MENUITEM "End", FRSKEY3
##	    {
		/* Terminate the RETRIEVE loop */
##		ENDRETRIEVE
##	    }
##	}

##	INQUIRE_EQUEL (rows = ROWCOUNT);
	if (rows == 0)
	{
##	    MESSAGE "No rows found for this query"
	}
	else
	{
##	    CLEAR FIELD ALL
##	    MESSAGE 'No more rows. Reset for next query'
	}

##	SLEEP 2
##}	

!!
.else 
? fill apxc.qc 
!!
/*
** Procedure: MAIN
** Purpose:   Entry point into Employee Query application.
*/

##main(argc,argv)

int argc;

## 	char*	argv[];

##{
##	extern int *empform;		/* Compiled form */

	char	where_clause[101];	/* For WHERE clause qualification */

        if (argc < 2)
                {
                printf("Usage: %s <database name>\n",argv[0]);
                exit(1);
                }

	/*
	** Initialize global WHERE clause qualification buffer to
	** be an INGRES default qualification that is always true
	*/
	strcpy (where_clause, "1=1");
##	FORMS
##	MESSAGE "Accessing Employee Query Application . . ."
##	INGRES argv[1]

##	RANGE OF e IS employee

##	ADDFORM empform

##	DISPLAY #empform QUERY
##	INITIALIZE

##	ACTIVATE MENUITEM "Reset"
##	{
##	    CLEAR FIELD ALL
##	}

##	ACTIVATE MENUITEM "Query"
##	{
	    /* Verify validity of data */
##	    VALIDATE
	    Build_Query(where_clause);
	    Exec_Query(where_clause);
##	}

##	ACTIVATE MENUITEM "LastQuery"
##	{
	    Exec_Query(where_clause);
##	}

##	ACTIVATE MENUITEM "End", FRSKEY3
##	{
##	    BREAKDISPLAY
##	}
##	FINALIZE

##	CLEAR SCREEN
##	ENDFORMS
##	EXIT

##}	/* main */

/*
** Procedure:	Build_Query
** Purpose:	Build an INGRES query from the values in the
**		"name" and "idno" fields in "empform."
** Parameters: 	where_clause
**		    -	Pointer to array for building WHERE clause.
*/

Build_Query(where_clause)
char 	*where_clause;
##{
##	char	ename[21];		/* Employee name */
# ifdef __alpha
	int	eidno;			/* make this int for alpha */
# else
##	int	eidno;			/* Employee id */
# endif
##	int	name_op, id_op;		/* Query operators */
/* Query operator table that maps integer values to string query operators */
	static char	*opertab[] = { "=", "!=", "<", ">", "<=", ">=" };

##	GETFORM empform
##	    (ename = name, name_op = GETOPER(name),
##	     eidno = idno, id_op = GETOPER(idno))

	/* Fill in the where clause */
	if (name_op == 0 && id_op == 0)
	{
	    strcpy (where_clause, "1=1");
	}
	else 
	{
	    if (name_op != 0 && id_op != 0)
	    {
		/* Query on both fields */
		sprintf (where_clause, "e.name %s \"%s\" and e.idno %s %d", 
		    opertab[name_op -1], ename, opertab[id_op -1], eidno);
	    }
	    else if (name_op != 0)
	    {
		/* Query on the "name" field */
		sprintf (where_clause, "e.name %s \"%s\"",
		    opertab[name_op -1], ename);
	    }
	    else
	    {
		/* Query on the "idno" field */
		sprintf (where_clause, "e.idno %s %d", 
		    opertab[id_op -1], eidno);
	    }
	}
##}

/*
** Procedure:	Exec_Query
** Purpose:	Given a query buffer defining a WHERE clause, issue
**		a RETRIEVE to allow the run-time user to browse the
**		employee found with the given qualification.
** Parameters:	where_clause	
**			    -	Contains WHERE clause qualification.
*/

##Exec_Query(where_clause)
##	char	*where_clause;
##{
	/* Employee data */
##	char	ename[21];
##	short	eage;
##	int	eidno;
##	char	ehired[26];
##	char	edept[11];
##	float	esalary;
##	int	rows;		/* Were rows found? */

##	RETRIEVE (ename = e.name, eage = e.age, eidno = e.idno,
##	    ehired = e.hired, edept = e.dept, esalary = e.salary)
##	    WHERE where_clause
##	{
##	    /* Put values on to form and display them */
##	    PUTFORM empform
##		(name = ename, age = eage, idno = eidno, hired = ehired,
##		dept = edept, salary = esalary)
##	    REDISPLAY

##	    SUBMENU
##	    ACTIVATE MENUITEM "Next", FRSKEY4
##	    {
		/*
		** Do nothing, and continue with the RETRIEVE loop.  The
		** last one will drop out.
		*/
##	    }
##	    ACTIVATE MENUITEM "Save", FRSKEY8
##	    {
		/* Save screen data in log file */
##		PRINTSCREEN (file = "query.log")
		/* Drop through to next employee */
##	    }	
##	    ACTIVATE MENUITEM "End", FRSKEY3
##	    {
		/* Terminate the RETRIEVE loop */
##		ENDRETRIEVE
##	    }
##	}

##	INQUIRE_EQUEL (rows = ROWCOUNT);
	if (rows == 0)
	{
##	    MESSAGE "No rows found for this query"
	}
	else
	{
##	    CLEAR FIELD ALL
##	    MESSAGE 'No more rows. Reset for next query'
	}

##	SLEEP 2
##}	

!!
.endif 
? eqc apxc 
<<
>>
<<
EQUEL apxc:
>>
? sepcc apxc 
<<
>>
<<
apxc.c
>>
? seplnk apxc forms 
<<
>>
? ferun apxc.exe SEPPARAMDB 
<<
~
>>
^^ >Susan`ESC'
<<
~
>>
^^ query`CR'next`CR'save`CR'save`CR'`ESC'
<<

%% MENU RESPONSE: Query
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Query"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: Susan Abraham           age: 31        idno: 12345                        |
|                                                                                |
|hired: 01-jan-1978                  dept: toys                                  |
|                                                                                |
|salary: $ 31456.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End  : query                                         |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Next
%% MENU:   Next  Save  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Next"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: Suzie Bowman            age: 36        idno: 384905                       |
|                                                                                |
|hired: 07-jul-1980                  dept: food                                  |
|                                                                                |
|salary: $ 31598.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Next  Save  End  : next                                                       |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Writing screen to 'query.log' file . . .
%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: Terry Braun             age: 30        idno: 837261                       |
|                                                                                |
|hired: 04-apr-1979                  dept: toys                                  |
|                                                                                |
|salary: $ 33018.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|Writing screen to 'query.log' file . . .                                        |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Appending screen to 'query.log' file . . .
%% No more rows. Reset for next query
%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected
>>
<< IF (NT_GENERIC) 

%% MENU RESPONSE: Query
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Query"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: Susan Abraham           age: 31        idno: 12345                        |
|                                                                                |
|hired: 01-jan-1978                  dept: toys                                  |
|                                                                                |
|salary: $ 31456.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End  : query                                         |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Next
%% MENU:   Next  Save  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Next"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: Suzie Bowman            age: 36        idno: 384905                       |
|                                                                                |
|hired: 07-jul-1980                  dept: food                                  |
|                                                                                |
|salary: $ 31598.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Next  Save  End  : next                                                       |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Writing screen to 'query.log' file . . .
%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: Terry Braun             age: 30        idno: 837261                       |
|                                                                                |
|hired: 04-apr-1979                  dept: toys                                  |
|                                                                                |
|salary: $ 33018.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|Writing screen to 'query.log' file . . .                                        |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Appending screen to 'query.log' file . . .
%% No more rows. Reset for next query
%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected
>>
^^ reset`CR'John*`ESC'
<<

%% MENU RESPONSE: Reset
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Reset"

%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected

%% CHANGED FIELD name:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John*_                   age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@
>>
<< IF (NT_GENERIC) 

%% MENU RESPONSE: Reset
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Reset"

%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected

%% CHANGED FIELD name:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John*_                   age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@
>>
^^ query`CR'save`CR'save`CR'`ESC'
<<

%% MENU RESPONSE: Query
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Query"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Bowdle             age: 39        idno: 273849                       |
|                                                                                |
|hired: 09-sep-1976                  dept: toys                                  |
|                                                                                |
|salary: $ 28333.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End  : query                                         |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Appending screen to 'query.log' file . . .
%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Calandrelo         age: 32        idno: 821760                       |
|                                                                                |
|hired: 05-aug-1986                  dept: toys                                  |
|                                                                                |
|salary: $ 25413.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|Appending screen to 'query.log' file . . .                                      |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Appending screen to 'query.log' file . . .
%% No more rows. Reset for next query
%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected
>>
<< IF (NT_GENERIC) 

%% MENU RESPONSE: Query
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Query"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Bowdle             age: 39        idno: 273849                       |
|                                                                                |
|hired: 09-sep-1976                  dept: toys                                  |
|                                                                                |
|salary: $ 28333.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End  : query                                         |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Appending screen to 'query.log' file . . .
%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Calandrelo         age: 32        idno: 821760                       |
|                                                                                |
|hired: 05-aug-1986                  dept: toys                                  |
|                                                                                |
|salary: $ 25413.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|Appending screen to 'query.log' file . . .                                      |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Save
%% MENU:   Next  Save  End
%% MENU AT POSITION `1' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `1' is "Save"

%% Appending screen to 'query.log' file . . .
%% No more rows. Reset for next query
%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected
>>
^^ lastquery`CR'next`CR'next`CR'`ESC'
<<

%% MENU RESPONSE: LastQuery
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `2' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `2' is "LastQuery"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Bowdle             age: 39        idno: 273849                       |
|                                                                                |
|hired: 09-sep-1976                  dept: toys                                  |
|                                                                                |
|salary: $ 28333.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End  : lastquery                                     |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Next
%% MENU:   Next  Save  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Next"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Calandrelo         age: 32        idno: 821760                       |
|                                                                                |
|hired: 05-aug-1986                  dept: toys                                  |
|                                                                                |
|salary: $ 25413.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Next  Save  End  : next                                                       |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Next
%% MENU:   Next  Save  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Next"

%% No more rows. Reset for next query
%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected
>>
<< IF (NT_GENERIC) 

%% MENU RESPONSE: LastQuery
%% MENU:   Reset  Query  LastQuery  End
%% MENU AT POSITION `2' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `2' is "LastQuery"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Bowdle             age: 39        idno: 273849                       |
|                                                                                |
|hired: 09-sep-1976                  dept: toys                                  |
|                                                                                |
|salary: $ 28333.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End  : lastquery                                     |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Next
%% MENU:   Next  Save  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Next"

%% FORM REDISPLAYED
##
__________________________________________________________________________________
|_                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: John Calandrelo         age: 32        idno: 821760                       |
|                                                                                |
|hired: 05-aug-1986                  dept: toys                                  |
|                                                                                |
|salary: $ 25413.00                                                              |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Next  Save  End  : next                                                       |
__________________________________________________________________________________
@@

%% MENU RESPONSE: Next
%% MENU:   Next  Save  End
%% MENU AT POSITION `0' SELECTED VIA A FUNCTION/PF KEY

%% MENU AT POSITION `0' is "Next"

%% No more rows. Reset for next query
%% INSERT loop:
##
__________________________________________________________________________________
|                                                                                |
|                  Query Target Name isemployee                                  |
|                                                                                |
|TABLE IS employee                                                               |
|                                                                                |
|name: _                        age:           idno:                              |
|                                                                                |
|hired:                              dept:                                       |
|                                                                                |
|salary:                                                                         |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|  Reset  Query  LastQuery  End                                                  |
__________________________________________________________________________________
@@

%% MENU KEY selected
>>
^^ end`CR'
<<
~
>>
? type query.log 
<<
___ 28-AUG-1991 21:17:30 _______________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: Suzie Bowman            age: 36        idno: 384905                       
                                                                                
hired: 07-jul-1980                  dept: food                                  
                                                                                
salary: $ 31598.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
___ 28-AUG-1991 21:17:33 _______________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: Terry Braun             age: 30        idno: 837261                       
                                                                                
hired: 04-apr-1979                  dept: toys                                  
                                                                                
salary: $ 33018.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
___ 28-AUG-1991 21:17:43 _______________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: John Bowdle             age: 39        idno: 273849                       
                                                                                
hired: 09-sep-1976                  dept: toys                                  
                                                                                
salary: $ 28333.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
___ 28-AUG-1991 21:17:46 _______________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: John Calandrelo         age: 32        idno: 821760                       
                                                                                
hired: 05-aug-1986                  dept: toys                                  
                                                                                
salary: $ 25413.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
>>
<<
___ Wed Aug 28 21:28:29 1991 ___________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: Suzie Bowman            age: 36        idno: 384905                       
                                                                                
hired: 07-jul-1980                  dept: food                                  
                                                                                
salary: $ 31598.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
___ Wed Aug 28 21:28:32 1991 ___________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: Terry Braun             age: 30        idno: 837261                       
                                                                                
hired: 04-apr-1979                  dept: toys                                  
                                                                                
salary: $ 33018.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
___ Wed Aug 28 21:28:38 1991 ___________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: John Bowdle             age: 39        idno: 273849                       
                                                                                
hired: 09-sep-1976                  dept: toys                                  
                                                                                
salary: $ 28333.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
___ Wed Aug 28 21:28:40 1991 ___________________________________________________
                                                                                
                  Query Target Name isemployee                                  
                                                                                
TABLE IS employee                                                               
                                                                                
name: John Calandrelo         age: 32        idno: 821760                       
                                                                                
hired: 05-aug-1986                  dept: toys                                  
                                                                                
salary: $ 25413.00                                                              
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
________________________________________________________________________________
>>
? delete apxc.c 
<<
~
>>
? delete apxc.exe 
<<
~
>>
? delete apxc.o 
<<
~
>>
? delete apxc.obj 
<<
~
>>
? delete empform 
<<
~
>>
? delete empform.o 
<<
~
>>
? delete empform.obj 
<<
~
>>
? delete forms.a 
<<
~
>>
? delete forms.olb 
<<
~
>>
? delete query.log 
<<
~
>>
? delobj SEPPARAMDB -form personfrm empform 
<<
~
>>


Ending at: Tue Apr 07 10:57:21 1998
